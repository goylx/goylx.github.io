<!DOCTYPE html><html lang="zh-CN"><head hexo-theme="https://github.com/volantis-x/hexo-theme-volantis/tree/5.0.0.alpha.0"><meta charset="utf-8"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="preload" href="/css/style.css" as="style"><title>搭建本地代码仓库 - 楼</title><meta name="keywords" content="git"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-config" content="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/favicon-16x16.png"><link rel="manifest" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/site.webmanifest"><link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/oylx_style.css"><style>#safearea{display:none}@supports (backdrop-filter:blur(20px)){.blur{background:rgba(255,255,255,.9)!important;backdrop-filter:saturate(200%) blur(20px)}}.shadow{box-shadow:0 1px 2px 0 rgba(0,0,0,.1)}.shadow.floatable{transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}.shadow.floatable:hover{box-shadow:0 2px 4px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.1),0 8px 16px 0 rgba(0,0,0,.1)}@font-face{font-family:'"fwzcN", "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial';src:url(/fonts/foundertype/fwzcN.OTF);font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:sxls;src:url(/fonts/foundertype/sxls.OTF);font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:fwzcN;src:url(/fonts/foundertype/fwzcN.OTF);font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:fwzc;src:url(https://cdn.jsdelivr.net/gh/inkss/common@master/hexo/fonts/foundertype/fwzcN.OTF);font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:sxls;src:url(https://cdn.jsdelivr.net/gh/inkss/common@master/hexo/fonts/foundertype/sxls.OTF);font-weight:300;font-style:normal;font-display:swap}.article-title,.md .footer .header,.meta-v3,.new-meta-box,.prev-next,.widget header,details summary{font-family:sxls,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Helvetica,monospace}:root{--site-bg:#f8f8f8;--block:#f2f2f2;--block-border:#e7e7e7;--block-hover:#ededed;--text-p0:#000;--text-p1:#222;--text-p2:#4c4c4c;--text-p3:#777;--text-meta:#cdcdcd;--card:#fff;--theme-highlight:#008ed0;--theme-bg:#e5f5fc}body[theme=dark]{--site-bg:#000;--block:#111;--block-border:#282828;--block-hover:#1c1c1c;--text-p0:#fff;--text-p1:#fff;--text-p2:#b2b2b2;--text-p3:#727272;--text-meta:#4c4c4c;--card:#333;--theme-highlight:#00a0e9;--theme-bg:#2d3d45}:root{--color-site-body:#f4f4f4;--color-site-bg:#f4f4f4;--color-site-inner:#fff;--color-site-footer:#666;--color-card:#fff;--color-text:#444;--color-block:#f6f6f6;--color-inlinecode:#d56d28;--color-codeblock:#fff7ea;--color-h1:#444;--color-h2:#444;--color-h3:#444;--color-h4:#444;--color-h5:#444;--color-h6:#444;--color-p:#444;--color-list:#666;--color-list-hl:#0080ba;--color-meta:#888}*{box-sizing:border-box;outline:0;margin:0;padding:0}html{color:var(--color-text);width:100%;height:100%;font-family:fwzcN,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Menlo,Monaco,monospace,sans-serif;font-size:16px}html>::-webkit-scrollbar{height:4px;width:4px}html>::-webkit-scrollbar-track-piece{background:0 0}html>::-webkit-scrollbar-thumb{background:#00a0e9;cursor:pointer;border-radius:2px}html>::-webkit-scrollbar-thumb:hover{background:#ff5722}body{background-color:var(--color-site-body);text-rendering:optimizelegibility;-webkit-tap-highlight-color:transparent;line-height:1.6;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}body.modal-active{overflow:hidden}@media screen and (max-width:680px){body.modal-active{position:fixed;top:0;right:0;bottom:0;left:0}}::-moz-selection{background:rgba(33,150,243,.2)}::selection{background:rgba(33,150,243,.2)}h1{font-size:1.5rem}h2{font-size:1.5rem}h3{font-size:1.25rem}h4{font-size:1.125rem}h5{font-size:1rem}h6{font-size:1rem}h1,h2,h3,h4,h6{font-weight:400}a{color:#2196f3;cursor:pointer;text-decoration:none;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}a:hover{color:#ff5722}a:active,a:hover{outline:0}a:not([href]){cursor:default}pre{tab-size:4;-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4}.clearfix{zoom:1}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.hidden{text-indent:-9999px;visibility:hidden;display:none}.inner{position:relative;width:80%;max-width:710px;margin:0 auto}.vertical{display:table-cell;vertical-align:middle}ol,ul{padding-left:0}ol li,ul li{list-style:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}article{overflow:hidden}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:50%;line-height:1em}sup{vertical-align:text-top}sub{vertical-align:text-bottom}img{border:0;background:0 0;max-width:100%}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0;border:0;border-radius:1px;border-bottom:1px solid rgba(68,68,68,.1)}pre{overflow:auto}span.dot,span.sep{font-size:.9em;margin:0 .2rem}span.dot:before{content:'·'}span.sep:before{content:'/'}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table:not([class]){border-collapse:collapse;overflow:auto;display:inline-block;max-width:100%;vertical-align:text-top}table:not([class]) th{background-color:#f1f1f1}table:not([class]) td,table:not([class]) th{padding:8px 16px;border:2px solid #f1f1f1;line-height:1.5;font-size:90%}table:not([class]) tr{word-break:keep-all;background-color:#fefefe;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}table:not([class]) tr:hover{background-color:#f1f1f1}td,th{padding:0}#l_cover{min-height:64px}.cover-wrapper{top:0;left:0;max-width:100%;height:100vh;display:flex;flex-wrap:nowrap;flex-direction:column;align-items:center;align-self:center;align-content:center;color:var(--color-site-inner);padding:0 16px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;position:relative;overflow:hidden;margin-bottom:-100px}.cover-wrapper #cover-backstretch,.cover-wrapper .cover-bg{position:absolute;width:100%;height:100%;background-position:center;background-size:cover}.cover-wrapper #cover-backstretch.lazyload:not(.loaded),.cover-wrapper .cover-bg.lazyload:not(.loaded){opacity:0}.cover-wrapper #cover-backstretch.lazyload.loaded,.cover-wrapper .cover-bg.lazyload.loaded{animation-delay:0s;animation-duration:.5s;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-name:fadeIn}@-moz-keyframes fadeIn{0%{opacity:0;filter:blur(12px);transform:scale(1.02)}100%{opacity:1}}@-webkit-keyframes fadeIn{0%{opacity:0;filter:blur(12px);transform:scale(1.02)}100%{opacity:1}}@-o-keyframes fadeIn{0%{opacity:0;filter:blur(12px);transform:scale(1.02)}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0;filter:blur(12px);transform:scale(1.02)}100%{opacity:1}}.cover-wrapper .cover-body{z-index:1;position:relative;width:100%;height:100%}.cover-wrapper#full{height:calc(100vh + 100px);padding-bottom:100px}.cover-wrapper#half{max-height:640px;min-height:400px;height:calc(36vh - 64px + 200px)}.cover-wrapper #scroll-down{width:100%;height:64px;position:absolute;bottom:100px;text-align:center;cursor:pointer}.cover-wrapper #scroll-down .scroll-down-effects{color:#fff;font-size:24px;line-height:64px;position:absolute;width:24px;left:calc(50% - 12px);text-shadow:0 1px 2px rgba(0,0,0,.1);animation:scroll-down-effect 1.5s infinite}@-moz-keyframes scroll-down-effect{0%{top:0;opacity:1}50%{top:-16px;opacity:.4}100%{top:0;opacity:1}}@-webkit-keyframes scroll-down-effect{0%{top:0;opacity:1}50%{top:-16px;opacity:.4}100%{top:0;opacity:1}}@-o-keyframes scroll-down-effect{0%{top:0;opacity:1}50%{top:-16px;opacity:.4}100%{top:0;opacity:1}}@keyframes scroll-down-effect{0%{top:0;opacity:1}50%{top:-16px;opacity:.4}100%{top:0;opacity:1}}.cover-wrapper .cover-body{margin-top:64px;margin-bottom:100px}.cover-wrapper .cover-body,.cover-wrapper .cover-body .bottom,.cover-wrapper .cover-body .top{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:100%}.cover-wrapper .cover-body .bottom{margin-top:32px}.cover-wrapper .cover-body .title{font-family:sxls,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Helvetica,monospace;font-size:3.125rem;line-height:1.2;text-shadow:0 1px 2px rgba(0,0,0,.1);text-align:center}.cover-wrapper .cover-body .subtitle{font-size:20px}.cover-wrapper .cover-body .logo{max-height:120px;max-width:calc(100% - 4 * 16px)}@media screen and (min-height:1024px){.cover-wrapper .cover-body .title{font-size:3rem}.cover-wrapper .cover-body .subtitle{font-size:1.05rem}.cover-wrapper .cover-body .logo{max-height:150px}}.cover-wrapper .cover-body .m_search{position:relative;max-width:calc(100% - 16px);width:320px;vertical-align:middle}.cover-wrapper .cover-body .m_search .form{position:relative;display:block;width:100%}.cover-wrapper .cover-body .m_search .icon,.cover-wrapper .cover-body .m_search .input{transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}.cover-wrapper .cover-body .m_search .icon{position:absolute;display:block;line-height:2.5rem;width:32px;top:0;left:5px;color:rgba(68,68,68,.75)}.cover-wrapper .cover-body .m_search .input{display:block;height:2.5rem;width:100%;box-shadow:none;box-sizing:border-box;font-size:.875rem;-webkit-appearance:none;padding-left:36px;border-radius:1.4rem;background:rgba(255,255,255,.6);backdrop-filter:blur(10px);border:none;color:var(--color-text)}@media screen and (max-width:500px){.cover-wrapper .cover-body .m_search .input{padding-left:36px}}.cover-wrapper .cover-body .m_search .input:hover{background:rgba(255,255,255,.8)}.cover-wrapper .cover-body .m_search .input:focus{background:#fff}.cover-wrapper .list-h{display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;border-radius:4px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}.cover-wrapper .list-h a{flex:1;display:flex;font-weight:600}.cover-wrapper .list-h a img{display:block;border-radius:2px;margin:4px;min-width:40px;max-width:44px}@media screen and (max-width:768px){.cover-wrapper .list-h a img{min-width:36px;max-width:40px}}@media screen and (max-width:500px){.cover-wrapper .list-h a img{margin:2px 4px;min-width:32px;max-width:36px}}@media screen and (max-width:375px){.cover-wrapper .list-h a img{min-width:28px;max-width:32px}}.cover-wrapper{max-width:100%}.cover-wrapper.search .bottom .menu{margin-top:16px}.cover-wrapper.search .bottom .menu .list-h a{white-space:nowrap;flex-direction:row;align-items:baseline;padding:2px;margin:4px;color:var(--color-site-inner);opacity:.75;text-shadow:0 1px 2px rgba(0,0,0,.05);border-bottom:2px solid transparent}.cover-wrapper.search .bottom .menu .list-h a i{margin-right:4px}.cover-wrapper.search .bottom .menu .list-h a p{font-size:.9375rem}.cover-wrapper.search .bottom .menu .list-h a.active,.cover-wrapper.search .bottom .menu .list-h a:active,.cover-wrapper.search .bottom .menu .list-h a:hover{opacity:1;border-bottom:2px solid var(--color-site-inner)}.cover-wrapper.dock .menu,.cover-wrapper.featured .menu,.cover-wrapper.focus .menu{border-radius:6px}.cover-wrapper.dock .menu .list-h a,.cover-wrapper.featured .menu .list-h a,.cover-wrapper.focus .menu .list-h a{flex-direction:column;align-items:center;padding:12px;line-height:24px;border-radius:4px;border-bottom:none;text-align:center;align-content:flex-end;color:rgba(68,68,68,.7);font-size:1.5rem}@media screen and (max-width:500px){.cover-wrapper.dock .menu .list-h a,.cover-wrapper.featured .menu .list-h a,.cover-wrapper.focus .menu .list-h a{padding:12px 8px}}.cover-wrapper.dock .menu .list-h a i,.cover-wrapper.featured .menu .list-h a i,.cover-wrapper.focus .menu .list-h a i{margin:8px}.cover-wrapper.dock .menu .list-h a p,.cover-wrapper.featured .menu .list-h a p,.cover-wrapper.focus .menu .list-h a p{font-size:.875rem}.cover-wrapper.dock .menu .list-h a.active,.cover-wrapper.featured .menu .list-h a.active,.cover-wrapper.focus .menu .list-h a.active{background:var(--color-card);backdrop-filter:none}.cover-wrapper.dock .menu .list-h a.active i,.cover-wrapper.dock .menu .list-h a.active i+p,.cover-wrapper.featured .menu .list-h a.active i,.cover-wrapper.featured .menu .list-h a.active i+p,.cover-wrapper.focus .menu .list-h a.active i,.cover-wrapper.focus .menu .list-h a.active i+p{color:#00a0e9}.cover-wrapper.dock .menu .list-h a.active img+p,.cover-wrapper.featured .menu .list-h a.active img+p,.cover-wrapper.focus .menu .list-h a.active img+p{color:var(--color-text)}.cover-wrapper.dock .menu .list-h a:hover,.cover-wrapper.featured .menu .list-h a:hover,.cover-wrapper.focus .menu .list-h a:hover{background:var(--color-card)}.cover-wrapper.dock .top{margin-bottom:48px}.cover-wrapper.dock .menu{background:rgba(255,255,255,.5);position:absolute;bottom:0;max-width:100%}.cover-wrapper.dock .menu .list-h{flex-wrap:nowrap;margin:4px}.cover-wrapper.dock .menu .list-h a+a{margin-left:4px}@media screen and (max-width:500px){.cover-wrapper.dock .menu .list-h{overflow-x:scroll}.cover-wrapper.dock .menu .list-h::-webkit-scrollbar{height:0;width:0}.cover-wrapper.dock .menu .list-h::-webkit-scrollbar-track-piece{background:0 0}.cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb{background:#00a0e9;cursor:pointer;border-radius:0}.cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb:hover{background:#ff5722}}@supports (backdrop-filter:blur(20px)){.cover-wrapper.dock .menu{background:rgba(255,255,255,.5);backdrop-filter:saturate(200%) blur(20px)}}.cover-wrapper.featured .menu .list-h{margin:-2px}.cover-wrapper.featured .menu .list-h a{margin:2px;background:rgba(255,255,255,.5)}@supports (backdrop-filter:blur(20px)){.cover-wrapper.featured .menu .list-h a{background:rgba(255,255,255,.5);backdrop-filter:saturate(200%) blur(20px)}}.cover-wrapper.focus .menu{transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}.cover-wrapper.focus .menu .list-h{margin:2px}.cover-wrapper.focus .menu:hover{background:rgba(255,255,255,.5)}@supports (backdrop-filter:blur(20px)){.cover-wrapper.focus .menu:hover{background:rgba(255,255,255,.5);backdrop-filter:saturate(200%) blur(20px)}}.cover-wrapper.focus .menu .list-h a{margin:2px}.cover-wrapper.focus .menu .list-h a:hover{opacity:1;background:var(--color-card)}.cover-wrapper #parallax-window{position:absolute;width:100%;height:100%;background:0 0}.parallax-mirror{animation-delay:0s;animation-duration:.5s;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-name:fadeIn}@-moz-keyframes fadeIn{0%{opacity:0;filter:blur(12px)}100%{opacity:1}}@-webkit-keyframes fadeIn{0%{opacity:0;filter:blur(12px)}100%{opacity:1}}@-o-keyframes fadeIn{0%{opacity:0;filter:blur(12px)}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0;filter:blur(12px)}100%{opacity:1}}.l_header{position:fixed;z-index:1000;top:0;width:100%;height:64px;background:var(--color-card);box-shadow:0 1px 2px 0 rgba(0,0,0,.1)}.l_header.auto{transition:opacity .4s ease;-moz-transition:opacity .4s ease;-webkit-transition:opacity .4s ease;-o-transition:opacity .4s ease;visibility:hidden}.l_header.auto.show{opacity:1!important;visibility:visible}.l_header .container{margin-left:16px;margin-right:16px}.l_header #wrapper{height:100%;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}.l_header #wrapper .nav-main,.l_header #wrapper .nav-sub{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center}.l_header #wrapper .nav-main{transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}.l_header #wrapper.sub .nav-main{transform:translateY(-64px)}.l_header #wrapper .nav-sub{transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;opacity:0;height:64px;width:calc(100% - 2 * 16px);position:absolute}@media screen and (min-width:2048px){.l_header #wrapper .nav-sub{max-width:55vw;margin:auto}}.l_header #wrapper.sub .nav-sub{opacity:1}.l_header #wrapper .title{position:relative;color:var(--color-text);padding-left:24px;max-height:64px}.l_header #wrapper .nav-main .title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-shrink:0;line-height:64px;padding:0 24px;font-size:1.25rem;font-family:sxls,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Helvetica,monospace}.l_header #wrapper .nav-main .title img{height:64px}.l_header .nav-sub{max-width:1280px;margin:auto}.l_header .nav-sub .title{font-weight:700;font-family:fwzcN,"Varela Round","PingFang SC","Microsoft YaHei",Helvetica,Arial,Menlo,Monaco,monospace,sans-serif;line-height:1.2;max-height:64px;white-space:normal;flex-shrink:1}.l_header .switcher{display:none;line-height:64px;align-items:center}.l_header .switcher .s-toc{display:none}@media screen and (max-width:768px){.l_header .switcher .s-toc{display:flex}}.l_header .switcher>li{height:48px;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;margin:2px}@media screen and (max-width:500px){.l_header .switcher>li{margin:0 1px;height:48px}}.l_header .switcher>li>a{display:flex;justify-content:center;align-items:center;width:48px;height:48px;padding:.85em 1.1em;border-radius:100px;border:none;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;color:#00a0e9}.l_header .switcher>li>a:hover{border:none}.l_header .switcher>li>a.active,.l_header .switcher>li>a:active{border:none;background:var(--color-site-bg)}@media screen and (max-width:500px){.l_header .switcher>li>a{width:36px;height:48px}}.l_header .nav-sub .switcher{display:flex}.l_header .m_search{display:flex;height:64px;width:240px;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}@media screen and (max-width:1024px){.l_header .m_search{width:44px;min-width:44px}.l_header .m_search input::placeholder{opacity:0}.l_header .m_search:hover{width:240px}.l_header .m_search:hover input::placeholder{opacity:1}}@media screen and (min-width:500px){.l_header .m_search:hover .input{width:100%}.l_header .m_search:hover .input::placeholder{opacity:1}}@media screen and (max-width:500px){.l_header .m_search{min-width:0}.l_header .m_search input::placeholder{opacity:1}}.l_header .m_search .form{position:relative;display:flex;width:100%;align-items:center}.l_header .m_search .icon{position:absolute;width:36px;left:5px;color:var(--color-meta)}@media screen and (max-width:500px){.l_header .m_search .icon{display:none}}.l_header .m_search .input{display:block;padding-top:8px;padding-bottom:8px;line-height:1.3;width:100%;color:var(--color-text);background:#fafafa;box-shadow:none;box-sizing:border-box;padding-left:40px;font-size:.875rem;border-radius:8px;border:none;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}@media screen and (min-width:500px){.l_header .m_search .input:focus{box-shadow:0 4px 8px 0 rgba(0,0,0,.1)}}@media screen and (max-width:500px){.l_header .m_search .input{background:var(--color-block);padding-left:8px;border:none}.l_header .m_search .input:focus,.l_header .m_search .input:hover{border:none}}@media (max-width:500px){.l_header .m_search{left:0;width:0;overflow:hidden;position:absolute;background:#fff;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}.l_header .m_search .input{border-radius:32px;margin-left:16px;padding-left:16px}.l_header.z_search-open .m_search{width:100%}.l_header.z_search-open .m_search .input{width:calc(100% - 120px)}}ul.m-pc>li>a{color:inherit;border-bottom:2px solid transparent}ul.m-pc>li>a.active,ul.m-pc>li>a:active{border-bottom:2px solid #00a0e9}ul.list-v li:hover>ul.list-v,ul.m-pc li:hover>ul.list-v{display:block}ul.nav-list-h{display:flex;align-items:stretch}ul.nav-list-h>li{position:relative;justify-content:center;height:100%;line-height:2.4;border-radius:4px}ul.nav-list-h>li>a{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:600}ul.list-v{z-index:1;display:none;position:absolute;background:var(--color-card);box-shadow:0 2px 4px 0 rgba(0,0,0,.08),0 4px 8px 0 rgba(0,0,0,.08),0 8px 16px 0 rgba(0,0,0,.08);margin-top:-6px;border-radius:4px;padding:8px 0}ul.list-v.show{display:block}ul.list-v hr{margin-top:8px;margin-bottom:8px}ul.list-v>li{white-space:nowrap;word-break:keep-all}ul.list-v>li.header{font-size:.78125rem;font-weight:700;line-height:2em;color:var(--color-meta);margin:8px 16px 4px}ul.list-v>li.header i{margin-right:8px}ul.list-v>li ul{margin-left:0;display:none;margin-top:-40px}ul.list-v .aplayer-container{min-height:64px;padding:6px 16px}ul.list-v>li>a{transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;display:block;color:var(--color-list);font-size:.875rem;line-height:36px;padding:0 20px 0 16px;text-overflow:ellipsis;margin:0 4px;border-radius:4px}@media screen and (max-width:1024px){ul.list-v>li>a{line-height:40px}}ul.list-v>li>a>i{margin-right:8px}ul.list-v>li>a.active,ul.list-v>li>a:active{color:var(--color-list-hl)}ul.list-v>li>a:hover{color:var(--color-list-hl);background:var(--color-site-bg)}.l_header .menu>ul>li>a{display:block;padding:0 8px}.l_header .menu>ul>li>a>i{margin-right:4px}.l_header ul.nav-list-h>li{color:var(--color-list);line-height:64px}.l_header ul.nav-list-h>li>a{max-height:64px;overflow:hidden;color:inherit}.l_header ul.nav-list-h>li>a.active,.l_header ul.nav-list-h>li>a:active{color:#00a0e9}.l_header ul.nav-list-h>li:hover>a{color:var(--color-list-hl)}.l_header ul.nav-list-h>li i.music{animation:rotate-effect 1.5s linear infinite}@-moz-keyframes rotate-effect{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes rotate-effect{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}@-o-keyframes rotate-effect{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}@keyframes rotate-effect{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}.menu-phone li ul.list-v{right:calc(100% - .5 * 16px)}.menu-phone li ul.list-v ul{right:calc(100% - .5 * 16px)}#wrapper{max-width:1280px;margin:auto}@media screen and (min-width:2048px){#wrapper{max-width:55vw}}#wrapper .menu{flex:1 1 auto;margin:0 16px 0 0}#wrapper .menu .list-v ul{left:calc(100% - .5 * 16px)}.menu-phone{display:none;margin-top:16px;right:8px;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}.menu-phone ul{right:calc(100% - .5 * 16px)}@media screen and (max-width:500px){.menu-phone{display:block}}.cover-wrapper .l_header{transition:all .5s ease;-moz-transition:all .5s ease;-webkit-transition:all .5s ease;-o-transition:all .5s ease;-moz-transition:all .5s ease;-webkit-transition:all .5s ease;-o-transition:all .5s ease;transform:translateY(-128px)}.cover-wrapper .l_header.show{transform:translateY(0)}.l_header{max-width:65vw;left:calc((100% - 65vw) * .5);border-bottom-left-radius:8px;border-bottom-right-radius:8px}@media screen and (max-width:2048px){.l_header{max-width:1312px;left:calc((100% - 1312px) * .5)}}@media screen and (max-width:1312px){.l_header{left:0;border-radius:0;max-width:100%}}@media screen and (max-width:500px){.l_header .container{margin-left:0;margin-right:0}.l_header #wrapper .nav-main .title{padding-left:16px;padding-right:16px}.l_header #wrapper .nav-sub{width:100%}.l_header #wrapper .nav-sub .title{overflow-y:scroll;margin-top:2px;padding:8px 16px}.l_header #wrapper .switcher{display:flex;margin-right:8px;height:64px}.l_header .menu{display:none}}@media screen and (max-width:500px){.list-v li{max-width:270px}}#u-search{display:none;position:fixed;top:0;left:0;width:100%;height:100%;padding:60px 20px;z-index:1001}@media screen and (max-width:680px){#u-search{padding:0}}#u-search .modal{position:fixed;height:80%;width:100%;max-width:640px;left:50%;top:0;margin:64px 0 0 -320px;background:var(--color-card);z-index:3;border-radius:4px;overflow:hidden}@media screen and (max-width:680px){#u-search .modal{box-shadow:none;max-width:none;top:0;left:0;margin:0;height:100%;border-radius:0}}#u-search .modal-ajax-content{opacity:0;visibility:hidden;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}#u-search .modal-ajax-content.loaded{opacity:1;visibility:visible}#u-search .modal-header{position:relative;width:100%;height:64px;z-index:3;border-top-left-radius:4px;border-top-right-radius:4px;font-size:$fontsize;box-shadow:0 1px 2px 0 rgba(0,0,0,.1);background:#fff;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}@media screen and (max-width:680px){#u-search .modal-header{border-radius:0;padding:0}}#u-search .modal-header .btn-close{display:block;position:absolute;width:55px;height:64px;top:0;right:0;color:#00a0e9;cursor:pointer;text-align:center;line-height:64px;vertical-align:middle;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;z-index:2}#u-search .modal-header .btn-close:hover{transform:rotate(90deg)}#u-search .modal-header .modal-loading{position:absolute;bottom:0;left:0;width:100%;height:2px;background:0 0;z-index:1}#u-search .modal-header .modal-loading .modal-loading-bar{display:block;position:relative;width:0%;height:100%;background:#00a0e9;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}#u-search .modal-header #u-search-modal-form{position:relative;width:100%;height:100%;z-index:2}#u-search .modal-header #u-search-modal-form input{color:var(--color-text)}#u-search .modal-header #u-search-modal-form #u-search-modal-input{margin:16px 50px;padding:0 8px;width:calc(100% - 100px - 16px);line-height:2rem;border-radius:4px;vertical-align:middle;border:none;appearance:none;box-shadow:none;background:0 0;transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease;-moz-transition:all .28s ease;-webkit-transition:all .28s ease;-o-transition:all .28s ease}@media screen and (max-width:680px){#u-search .modal-header #u-search-modal-form #u-search-modal-input{padding:0}}#u-search .modal-header #u-search-modal-form #u-search-modal-input:focus{border-top-left-radius:4px;border-top-right-radius:4px}#u-search .modal-header #u-search-modal-btn-submit{position:absolute;top:0;left:0;padding-left:5px;padding-top:2px;background:0 0;border:none;width:50px;height:64px;vertical-align:middle;color:#00a0e9;z-index:2}#u-search .modal-footer{position:absolute;display:none;bottom:0;left:0;width:100%;height:50px;padding:0 15px;background:var(--color-card)}#u-search .modal-footer .logo{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;z-index:0}#u-search .modal-footer .logo a{display:inline-block;height:50px}#u-search .modal-footer .logo.google img{height:24px;margin-top:13px}#u-search .modal-footer .logo.baidu img{height:22px;margin-top:14px}#u-search .modal-footer .logo img{position:relative;display:inline-block;width:auto;height:18px;margin-top:16px}#u-search .modal-footer .modal-error{position:relative;float:left;vertical-align:middle;line-height:50px;font-size:13px;z-index:1}#u-search .modal-footer .modal-metadata{position:relative;float:left;vertical-align:middle;line-height:50px;font-size:13px;z-index:1}#u-search .modal-footer .nav{position:relative;display:block;float:right;vertical-align:middle;font-size:.875rem;font-weight:700;line-height:50px;color:var(--color-meta);cursor:pointer;z-index:1}#u-search .modal-footer .nav:hover{color:#ff5722}#u-search .modal-footer .nav.btn-next{margin-left:16px}#u-search .modal-footer .nav .icon{font-size:.875rem}#u-search .modal-body{position:absolute;padding:16px;width:100%;height:calc(100% - 64px);top:64px;left:0;overflow-y:scroll;-webkit-overflow-scrolling:touch;background:var(--color-card);border-radius:4px}#u-search .modal-body::-webkit-scrollbar{height:4px;width:4px}#u-search .modal-body::-webkit-scrollbar-track-piece{background:0 0}#u-search .modal-body::-webkit-scrollbar-thumb{background:#00a0e9;cursor:pointer;border-radius:2px}#u-search .modal-body::-webkit-scrollbar-thumb:hover{background:#ff5722}#u-search .modal-body .modal-results{list-style:none}#u-search .modal-body .modal-results .result{position:relative;display:block;padding:16px;border-radius:4px}#u-search .modal-body .modal-results .result b[mark]{color:#007db6;text-decoration:underline}#u-search .modal-body .modal-results .result:hover{background:var(--color-site-bg)}#u-search .modal-body .modal-results .result:hover .title{color:var(--color-list-hl)}#u-search .modal-body .modal-results .result .title{display:inline-block;max-width:100%;color:var(--color-list);font-weight:700;padding:1px;margin-bottom:2px;white-space:normal;overflow:hidden;text-overflow:ellipsis;font-size:1.125rem}#u-search .modal-body .modal-results .result .digest{display:block;white-space:inherit;overflow:hidden;word-break:break-all;text-overflow:ellipsis;font-size:.8125rem;color:var(--color-meta)}#u-search .modal-body .modal-results .result .icon{position:absolute;top:50%;right:0;margin-top:-4px;font-size:11px;color:var(--color-meta)}#u-search .modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);z-index:1}@media screen and (max-width:2048px){.l_header{left:0!important;border-radius:0!important;max-width:100%!important}}article>p{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif;font-weight:400!important;line-height:2!important;margin:0 0 20px 0}article>p{font-family:'"fwzcN", "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial'}@media screen and (max-width:500px){#safearea{margin:16px 0 0!important;box-shadow:none!important}#safearea #l_main article#arc,#safearea #l_main article#comments,#safearea #l_main article#friends,#safearea #l_main article#page,#safearea #l_main article#post{border-radius:0!important;margin-top:-16px!important}#safearea #l_main article#cat,#safearea #l_main article#tag{margin:-16px -16px 0!important;border-radius:0!important}#safearea #l_main .post-wrapper{margin:0 16px!important}#safearea #l_side .widget.mobile{border-radius:0!important}}.iconfont{width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden}.iconfont.emoji{width:1.5em;height:1.5em;vertical-align:-.3em}.rem1p5{font-size:1.5rem}.rem2{font-size:2rem}.rem6{font-size:6rem}.rem12{font-size:12rem}</style><link rel="stylesheet" href="/css/style.css" media="print" onload='this.media="all",this.onload=null'><noscript><link rel="stylesheet" href="/css/style.css"></noscript><script>window.MSInputMethodContext&&document.documentMode&&document.write('<style>html{overflow-x: hidden !important;overflow-y: hidden !important;}.kill-ie{text-align:center;height: 100%;margin-top: 15%;margin-bottom: 5500%;}</style><div class="kill-ie"><h1><b>抱歉，您的浏览器无法访问本站</b></h1><h3>微软已经于2016年终止了对 Internet Explorer (IE) 10 及更早版本的支持，<br/>继续使用存在极大的安全隐患，请使用当代主流的浏览器进行访问。</h3><br/><a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-cn/WindowsForBusiness/End-of-IE-support"><strong>了解详情 ></strong></a></div>')</script><noscript><style>html{overflow-x:hidden!important;overflow-y:hidden!important}.kill-noscript{text-align:center;height:100%;margin-top:15%;margin-bottom:5500%}</style><div class="kill-noscript"><h1><b>抱歉，您的浏览器无法访问本站</b></h1><h3>本页面需要浏览器支持（启用）JavaScript</h3><br> <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=启用JavaScript"><strong>了解详情 ></strong></a></div></noscript><script>document.addEventListener("error",(function(t){const a=t.target,e=t.target.parentElement,r=e.classList.toString(),s=e.parentElement.classList.toString();"img"===a.tagName.toLowerCase()&&(a.classList.add("fix-cursor-default","error"),"fancybox"===r&&"fancybox"===s?(e.parentElement.classList.add("hideFancybox"),e.parentElement.classList.remove("fancybox"),e.classList.remove("fancybox")):"img-bg"===r&&"img-wrap"===s?e.parentElement.classList.add("hideFancybox"):"author"===r?e.parentElement.classList.add("fix-author-imgError"):-1!=r.indexOf("tk-avatar")&&e.parentElement.classList.add("fix-avatar-imgError"))}),!0)</script></head><body><header id="l_header" class="l_header auto shadow blur show" style="opacity:0"><div class="container"><div id="wrapper"><div class="nav-sub"><p class="title fix-header-title"></p><ul class="switcher nav-list-h m-phone" id="pjax-header-nav-list"><li><a id="s-comment" class="fad fa-comments fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a id="s-toc" class="s-toc fad fa-list fa-fw" target="_self" href="javascript:void(0)"></a></li></ul></div><div class="nav-main"><a id="desktopNavTitle" class="title flat-box" target="_self" href="/"></a> <a id="githubEmoji" class="title flat-box" style="display:none" target="_self" href="/"><svg class="profile-color-modes" height="45" viewBox="0 0 106 60" fill="none" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><g class="profile-color-modes-illu-group profile-color-modes-illu-red"><path d="M37.5 58.5V57.5C37.5 49.768 43.768 43.5 51.5 43.5V43.5C59.232 43.5 65.5 49.768 65.5 57.5V58.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-orange"><path d="M104.07 58.5C103.401 55.092 97.7635 54.3869 95.5375 57.489 97.4039 54.6411 99.7685 48.8845 94.6889 46.6592 89.4817 44.378 86.1428 50.1604 85.3786 54.1158 85.9519 50.4768 83.7226 43.294 78.219 44.6737 72.7154 46.0534 72.7793 51.3754 74.4992 55.489 74.169 54.7601 72.4917 53.3567 70.5 52.8196"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-purple"><path d="M5.51109 58.5V52.5C5.51109 41.4543 14.4654 32.5 25.5111 32.5 31.4845 32.5 36.8464 35.1188 40.5111 39.2709 40.7212 39.5089 40.9258 39.7521 41.1245 40"></path><path d="M27.511 49.5C29.6777 49.5 28.911 49.5 32.511 49.5"></path><path d="M27.511 56.5C29.6776 56.5 26.911 56.5 30.511 56.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-green"><circle cx="5.5" cy="12.5" r="4"></circle><circle cx="18.5" cy="5.5" r="4"></circle><path d="M18.5 9.5 18.5 27.5"></path><path d="M18.5 23.5C6 23.5 5.5 23.6064 5.5 16.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-blue"><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317 42.9939 24.5312 49.7417 26.6027 52.5428 30.2409 54.2551 29.8552 56.0796 29.6619 57.9731 29.6619 59.8169 29.6619 61.5953 29.8452 63.2682 30.211 66.0833 26.5913 72.799 24.5386 74.6117 27.2317 75.6839 28.8246 75.0259 33.7525 73.9345 37.5094 74.2013 37.9848 74.4422 38.4817 74.6555 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236C74.9709 38.2049 75.8108 35.5791 75.8108 32.2283 75.8108 29.2229 75.1351 26.6488 73.9344 24.5094 75.0258 20.7525 75.6838 15.8246 74.6116 14.2317 72.7989 11.5386 66.0832 13.5913 63.2681 17.211 61.5952 16.8452 59.8167 16.6619 57.973 16.6619 56.0795 16.6619 54.2549 16.8552 52.5427 17.2409 49.7416 13.6027 42.9938 11.5312 41.176 14.2317 40.0859 15.8512 40.7843 20.9182 41.9084 24.6968 41.003 26.3716 40.4146 28.3065 40.2129 30.5"></path><path d="M82.9458 30.5471 76.8413 31.657"></path><path d="M76.2867 34.4319 81.8362 37.7616"></path><path d="M49.4995 27.8242V30.4999"></path><path d="M67.3374 27.8242V30.4998"></path></g><g class="profile-color-modes-illu-frame"><path d="M45.3697 34.2658C41.8877 32.1376 39.7113 28.6222 39.7113 23.2283 39.7113 20.3101 40.3483 17.7986 41.4845 15.6968 40.3605 11.9182 39.662 6.85125 40.7522 5.23168 42.5699 2.53117 49.3177 4.6027 52.1188 8.24095 53.831 7.85521 55.6556 7.66186 57.5491 7.66186 59.3929 7.66186 61.1713 7.84519 62.8442 8.21095 65.6593 4.59134 72.375 2.5386 74.1877 5.23168 75.2599 6.82461 74.6019 11.7525 73.5105 15.5094 74.7112 17.6488 75.3869 20.2229 75.3869 23.2283 75.3869 28.6222 73.2105 32.1376 69.7285 34.2658 70.8603 35.5363 72.6057 38.3556 73.3076 40"></path><path d="M49.0747 19.8242V22.4999"></path><path d="M54.0991 28C54.6651 29.0893 55.7863 30.0812 57.9929 30.0812 59.0642 30.0812 59.8797 29.8461 60.5 29.4788"></path><path d="M66.9126 19.8242V22.4999"></path><path d="M33.2533 20.0237 39.0723 22.1767"></path><path d="M39.1369 25.0058 33.0935 27.3212"></path><path d="M81.8442 19.022 76.0252 21.1751"></path><path d="M75.961 24.0041 82.0045 26.3196"></path></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236C74.9709 38.2049 75.8108 35.5791 75.8108 32.2283 75.8108 29.2229 75.1351 26.6488 73.9344 24.5094 75.0258 20.7525 75.6838 15.8246 74.6116 14.2317 72.7989 11.5386 66.0832 13.5913 63.2681 17.211 61.5952 16.8452 59.8167 16.6619 57.973 16.6619 56.0795 16.6619 54.2549 16.8552 52.5427 17.2409 49.7416 13.6027 42.9938 11.5312 41.176 14.2317 40.0859 15.8512 40.7843 20.9182 41.9084 24.6968 41.003 26.3716 40.4146 28.3065 40.2129 30.5"></path><path d="M82.9458 30.5471 76.8413 31.657"></path><path d="M76.2867 34.4319 81.8362 37.7616"></path><path d="M49.4995 27.8242V30.4999"></path><path d="M67.3374 27.8242V30.4998"></path></g><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317 42.9939 24.5312 49.7417 26.6027 52.5428 30.2409 54.2551 29.8552 56.0796 29.6619 57.9731 29.6619 59.8169 29.6619 61.5953 29.8452 63.2682 30.211 66.0833 26.5913 72.799 24.5386 74.6117 27.2317 75.6839 28.8246 75.0259 33.7525 73.9345 37.5094 74.2013 37.9848 74.4422 38.4817 74.6555 39"></path></g></g></svg></a><div class="menu navigation"><ul class="nav-list-h m-pc"><li><a class="menuitem flat-box faa-parent animated-hover" href="/" id="home"><i class="fad fa-helmet-battle GREENSEA fa-fw fa-fw"></i> 首页</a></li><li><a class="menuitem flat-box faa-parent animated-hover"><i class="fad fa-cube NEPHRITIS fa-fw fa-fw"></i> 导航</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/categories/" id="categories"><i class="fad fa-folder-open TURQUOISE fa-fw fa-fw"></i> 分类</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/tags/" id="tags"><i class="fad fa-tags EMERALD fa-fw fa-fw"></i> 标签</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/archives/" id="archives"><i class="fad fa-archive PETERRIVE fa-fw fa-fw"></i> 归档</a></li></ul></li><li><a class="menuitem flat-box faa-parent animated-hover"><i class="fad fa-megaphone POMEGRANATE fa-fw fa-fw"></i> 更多</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/about/" id="about"><i class="fad fa-drafting-compass SUNFLOWER fa-fw fa-fw"></i> 关于</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/friends/" id="friends"><i class="fad fa-stamp ALIZARIN fa-fw fa-fw"></i> 友链</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/artitalk/" id="artitalk"><i class="fad fa-comment-alt-smile WETASPHALT fa-fw fa-fw"></i> 留言</a></li></ul></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><i class="icon fad fa-search fa-fw"></i> <input type="text" class="input u-search-input" placeholder="世界之大，探索一下！"></form></div><ul class="switcher nav-list-h m-phone"><li><a class="s-search fad fa-search fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a class="s-menu fad fa-bars fa-fw" target="_self" href="javascript:void(0)"></a><ul class="menu-phone list-v navigation white-box"><li><a class="menuitem flat-box faa-parent animated-hover" href="/" id="home"><i class="fad fa-helmet-battle GREENSEA fa-fw fa-fw"></i> 首页</a></li><li><a class="menuitem flat-box faa-parent animated-hover"><i class="fad fa-cube NEPHRITIS fa-fw fa-fw"></i> 导航</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/categories/" id="categories"><i class="fad fa-folder-open TURQUOISE fa-fw fa-fw"></i> 分类</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/tags/" id="tags"><i class="fad fa-tags EMERALD fa-fw fa-fw"></i> 标签</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/archives/" id="archives"><i class="fad fa-archive PETERRIVE fa-fw fa-fw"></i> 归档</a></li></ul></li><li><a class="menuitem flat-box faa-parent animated-hover"><i class="fad fa-megaphone POMEGRANATE fa-fw fa-fw"></i> 更多</a><ul class="list-v"><li><a class="menuitem flat-box faa-parent animated-hover" href="/about/" id="about"><i class="fad fa-drafting-compass SUNFLOWER fa-fw fa-fw"></i> 关于</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/friends/" id="friends"><i class="fad fa-stamp ALIZARIN fa-fw fa-fw"></i> 友链</a></li><li><a class="menuitem flat-box faa-parent animated-hover" href="/artitalk/" id="artitalk"><i class="fad fa-comment-alt-smile WETASPHALT fa-fw fa-fw"></i> 留言</a></li></ul></li></ul></li></ul></div></div></div></header><div id="l_body"><div id="l_cover"><div id="none" class="cover-wrapper post search" style="display:none"><div class="cover-bg lazyload placeholder" data-bg="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture"></div><div class="cover-body"><div class="top"> <img no-lazy class="logo" src="/image/logo.png"></div><div class="bottom"><div class="m_search"><form name="searchform" class="form u-search-form"> <input type="text" class="input u-search-input" placeholder="世界之大，探索一下！"><i class="icon fad fa-search fa-fw"></i></form></div><div class="menu navigation"><div class="list-h"><a href="/guide/" id="guide"><p>导读</p></a><a href="/categories/" id="categories"><p>分类</p></a><a href="/tags/" id="tags"><p>标签</p></a><a href="/archives/" id="archives"><p>归档</p></a><a href="/friends/" id="friends"><p>友链</p></a><a href="/about/" id="about"><p>关于</p></a></div></div></div></div><div id="scroll-down" style="display:none"><i class="fa fa-chevron-down scroll-down-effects"></i></div></div></div><div id="safearea"><div class="body-wrapper" id="pjax-container"><div id="l_main" class=""><article class="article post white-box reveal md shadow article-type-post" id="post" itemscope itemprop="blogPost"><div class="article-meta" id="top"><h1 class="title"> 搭建本地代码仓库</h1><div class="new-meta-box"><div class="new-meta-item author"> <a class="author" href="/" rel="nofollow"><img no-lazy src=""><p>欧阳罗霄</p></a></div><div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-06-01T11:30:58+08:00"><a class="notlink"><i class="fad fa-edit PETERRIVE fa-fw" aria-hidden="true"></i><p>更新于：2021年6月1日</p></a></div><div class="new-meta-item wordcount"><a class="notlink"><i class="fad fa-keyboard PETERRIVE fa-fw fa-fw" aria-hidden="true"></i><p>字数：6.2k 字</p></a></div><div class="new-meta-item readtime"><a class="notlink"><i class="fad fa-hourglass-half BELIZEHOLE fa-fw fa-fw" aria-hidden="true"></i><p>时长：23 分钟</p></a></div></div></div><h2 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h2><div class="note blue"><p>本文默认你对命令行工具有基本的了解，如果你还不知道如何使用请先对命令行工具有基本的了解后继续本文的阅读。</p></div><p>打开命令行工具输入命令<code>git version</code>查看git版本，如果没有安装git参照如下方式：</p><div class="tabs" id="tab-id"><ul class="nav-tabs"><li class="tab active"><a class="#tab-id-1">windows</a></li><li class="tab"><a class="#tab-id-2">linux</a></li><li class="tab"><a class="#tab-id-3">mac</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-id-1"><p>在 Git 官方网站下载，打开 <a target="_blank" rel="noopener" href="http://git-scm.com/download/win">http://git-scm.com/download/win</a> 选择对应版本，下载后双击运行安装程序即可</p></div><div class="tab-pane" id="tab-id-2"><p>如果你想在 Linux 上用二进制安装程序来安装 Git，可以使用发行版包含的基础软件包管理工具来安装。 如果以 Fedora 上为例，你可以使用 yum：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install git</span><br></pre></td></tr></table></figure><p>如果你在基于 Debian 的发行版上，请尝试用 apt-get：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install git</span><br></pre></td></tr></table></figure><p>要了解更多选择，Git 官方网站上有在各种 Unix 风格的系统上安装步骤，网址为 <a target="_blank" rel="noopener" href="http://git-scm.com/download/linux%E3%80%82">http://git-scm.com/download/linux。</a></p></div><div class="tab-pane" id="tab-id-3"><p>安装 Xcode Command Line Tools。 Mavericks （10.9） 或更高版本的系统中，在 Terminal 里尝试首次运行 ‘git’ 命令即可。 如果没有安装过命令行开发者工具，将会提示你安装。</p><p>如果你想安装更新的版本，可以使用二进制安装程序。 官方维护的 OSX Git 安装程序可以在 Git 官方网站下载，网址为 <a target="_blank" rel="noopener" href="http://git-scm.com/download/mac%E3%80%82">http://git-scm.com/download/mac。</a></p></div></div></div><h2 id="git配置"><a href="#git配置" class="headerlink" title="git配置"></a>git配置</h2><p>Git 可以通过<code>git config</code>命令查看或者定制git的环境信息，环境配置一共有三种作用域</p><ul><li>system: <code>git config --system</code>，配置文件存放在/etc/gitconfig，对于系统所有用户起作用，不常用</li><li>global: <code>git config --global</code>，配置文件存放在~/.gitconfig 或 ~/.config/git/config，只对当前用户起作用，常用</li><li>local : <code>git condif --local</code> ，配置文件存放在当前使用仓库的 Git 目录中的 config 文件（就是 .git/config），只针对当前仓库，常用</li></ul><p>查看配置信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --list或-l           <span class="comment">#列出所有配置项，可能会看到重复的变量名，因为 Git 会从不同的文件中读取同一个配置（例如：/etc/gitconfig 与 ~/.gitconfig）。 这种情况下，Git 会使用它找到的每一个变量的最后一个配置。</span></span><br><span class="line">git config --global --list      <span class="comment">#只查看全局的配置</span></span><br><span class="line">git config &lt;key&gt;                <span class="comment">#查看制定配置项的值</span></span><br></pre></td></tr></table></figure><p>配置自定义环境：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name xxxx              <span class="comment">#配置用户名</span></span><br><span class="line">git config --global user.email xxx@xxx.com      <span class="comment">#配置邮箱地址</span></span><br><span class="line">当安装完 Git 应该做的第一件事就是设置你的用户名称与邮件地址。 这样做很重要，因为每一个 Git 的提交都会使用这些信息，并且它会写入到你的每一次提交中</span><br><span class="line">当你想针对特定项目使用不同的用户名称与邮件地址时，可以在那个项目目录下运行没有 git config --<span class="built_in">local</span> user.name xxxx  选项的命令来配置</span><br><span class="line"></span><br><span class="line">git config --global core.editor emacs           <span class="comment">#配置默认的编辑器</span></span><br><span class="line">当 Git 需要你输入信息时会调用它。 如果未配置，Git 会使用操作系统默认的文本编辑器，通常是 Vim。</span><br><span class="line"></span><br><span class="line">git config --global alias.co checkout			<span class="comment">#给命令配置别名</span></span><br></pre></td></tr></table></figure><h2 id="获取代码仓库"><a href="#获取代码仓库" class="headerlink" title="获取代码仓库"></a>获取代码仓库</h2><p>有两种取得 Git 项目仓库的方法。 第一种是将现有项目导入到 Git 控制中，或者新建一个Git控制的项目； 第二种是从一个服务器克隆一个现有的 Git 仓库。</p><h3 id="在现有目录中初始化仓库"><a href="#在现有目录中初始化仓库" class="headerlink" title="在现有目录中初始化仓库"></a>在现有目录中初始化仓库</h3><p><code>git init</code>命令创建一个新的 Git 仓库。它用来将已存在但还没有版本控制的项目转换成一个 Git 仓库，或者创建一个空的新仓库。大多数Git命令在未初始化的仓库中都是无法使用的，所以这就是你运行新项目的第一个命令了。运行 <code>git init</code> 命令会在你项目的根目录下创建一个新的 .git 目录，其中包含了你项目必需的所有元数据。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git init                    <span class="comment"># 将当前的目录转换成一个 Git 仓库</span></span><br><span class="line">git init &lt;directory&gt;        <span class="comment"># 在指定目录创建一个空的 Git 仓库。</span></span><br><span class="line">git init --bare &lt;directory&gt; <span class="comment"># 初始化一个裸的 Git 仓库，没有工作目录</span></span><br></pre></td></tr></table></figure><div class="note"><p>使用–bare标记生成一个没有工作目录的裸仓库，用于作为中央仓库，因为向非裸仓库推送分支有可能会覆盖已有的代码变动。应该将裸仓库看做一个存储设施而非开发环境，在客户端的非裸仓库进行开发后推送到中央的裸仓库</p></div><h3 id="克隆已有的仓库"><a href="#克隆已有的仓库" class="headerlink" title="克隆已有的仓库"></a>克隆已有的仓库</h3><p><code>git clone</code>命令拷贝整个 Git 仓库,默认配置下远程 Git 仓库中的每一个文件的每一个版本都将被拉取下来。通常可以使用任何一个克隆下来的用户端来重建服务器上的仓库（虽然可能会丢失某些服务器端的挂钩设置，但是所有版本的数据仍在）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> /home/xxx/git_learing                         <span class="comment"># 从本地/home/xxx/git_learing仓库克隆一份仓库，使用哑协议——不建议</span></span><br><span class="line">git <span class="built_in">clone</span> file:///home/xxx/git_learing                  <span class="comment"># 从本地/home/xxx/git_learing仓库克隆一份仓库，使用智能协议——建议</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/libgit2/libgit2            <span class="comment"># 从github上克隆一份仓库，会在当前目录下创建一个名为libgit2的仓库</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/libgit2/libgit2 mylibgit   <span class="comment"># 将执行与上一个命令相同的操作，不过在本地创建的仓库名字变为mylibgit</span></span><br></pre></td></tr></table></figure><p>Git 支持多种数据传输协议。上面的例子使用的是 https:// 协议，不过你也可以使用 git:// 协议或者使用 SSH 传输协议，比如 user@server:path/to/repo.git 。</p><h2 id="记录每次更新到仓库"><a href="#记录每次更新到仓库" class="headerlink" title="记录每次更新到仓库"></a>记录每次更新到仓库</h2><p>工作目录下的每一个文件都不外乎这两种状态：已跟踪或未跟踪。 <span class="p red">已跟踪的文件</span>是指那些被纳入了版本控制的文件，在<span class="p red">上一次快照中有它们的记录</span>，在工作一段时间后，它们的状态可能处于未修改，已修改或已放入暂存区。 工作目录中除已跟踪文件以外的所有其它文件都属于未跟踪文件，它们既不存在于上次快照的记录中，也没有放入暂存区。 初次克隆某个仓库的时候，工作目录中的所有文件都属于已跟踪文件，并处于未修改状态。<br>编辑过某些文件之后，由于自上次提交后你对它们做了修改，Git 将它们标记为已修改文件。 我们逐步将这些修改过的文件放入暂存区，然后提交所有暂存了的修改，如此反复。所以使用 Git 时文件的生命周期如下：</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/lifeCycle.png" class="lazyload" data-srcset="/image/Devops/git/lifeCycle.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="git项目中文件的生命周期"></div><span class="image-caption">git项目中文件的生命周期</span></div><h3 id="检查当前文件状态"><a href="#检查当前文件状态" class="headerlink" title="检查当前文件状态"></a>检查当前文件状态</h3><p>要查看哪些文件处于什么状态，可以用<code>git status</code>命令。如果在克隆/新建仓库后立即使用此命令，会看到类似这样的输出：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working directory clean</span><br></pre></td></tr></table></figure><p>这说明现在的工作目录相当干净。换句话说，所有已跟踪文件在上次提交后都未被更改过。 此外，上面的信息还表明，当前目录下没有出现任何处于未跟踪状态的新文件，否则 Git 会在这里列出来。 最后，该命令还显示了当前所在分支，并告诉你这个分支同远程服务器上对应的分支没有偏离。 现在分支名是master,这是默认的分支名。</p><h3 id="跟踪新文件"><a href="#跟踪新文件" class="headerlink" title="跟踪新文件"></a>跟踪新文件</h3><details green><summary> 查看新建的未被跟踪的文件状态</summary><div class="content"><p>如果在项目中新建一个未被跟踪的文件，运行<code>git status</code>命令会看到如下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;hello world&#x27;</span> &gt; README</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">	README</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use <span class="string">&quot;git add&quot;</span> to track)</span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details><p>使用命令 <code>git add</code> 开始跟踪一个文件。 所以，要跟踪 README 文件，运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add README</span><br></pre></td></tr></table></figure><p><code>git add</code>命令使用文件或目录的路径作为参数；如果参数是目录的路径，该命令将递归地跟踪该目录下的所有文件，例如<code>git add .</code>会暂存当前目录下全部文件，<code>git add -a</code>会暂存当前项目全部修改的文件。</p><details green><summary> 查看执行 git add 命令后的文件状态</summary><div class="content"><p>此时再运行 git status 命令，会看到 README 文件已被跟踪，并处于暂存状态：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">	new file:   README</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>只要在 Changes to be committed 这行下面的，就说明是已暂存状态。如果此时使用<code>git commit</code>命令提交，那么该文件此时此刻的版本将被留存在历史记录中。</p></div></details><h3 id="提交更新"><a href="#提交更新" class="headerlink" title="提交更新"></a>提交更新</h3><p>使用<code>git commit</code>命令将<span class="p red">暂存区</span>的内容做一次提交，保存为一份快照。在此之前，请一定要确认还有什么修改过的或新建的文件还没有<code>git add</code>过，否则提交的时候不会记录这些还没暂存起来的变化。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m <span class="string">&#x27;add README&#x27;</span>                <span class="comment"># -m 参数指定本次提交的说明信息</span></span><br><span class="line">[master (root-commit) 48a8482] add README   <span class="comment"># 显示提交到的分支（master），本次提交索引的校验和（48a8482）</span></span><br><span class="line"> 1 file changed, 1 insertion(+)             <span class="comment"># 显示一个文件被修改，添加了一行内容</span></span><br><span class="line"> create mode 100644 README</span><br></pre></td></tr></table></figure><div class="note"><p>git commit本身只会提交暂存区的内容，没有使用git add命令暂存的修改不会被提交，可以使用git commit -am 提交的说明信息命令跳过暂存区直接将工作区的已经被纳入跟踪的文件进行提交，相当于执行了 git add -a 和 git commit -m 两条命令</p></div><h3 id="暂存已修改文件"><a href="#暂存已修改文件" class="headerlink" title="暂存已修改文件"></a>暂存已修改文件</h3><p>如果修改了一个已经保存被提交（<code>git commit</code>）的文件，运行<code>git status</code>命令会看到如下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;change content&#x27;</span> &gt;&gt; README</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">	modified:   README</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure><p>文件<code>README</code>出现在 Changes not staged for commit 这行下面，说明已跟踪文件的内容发生了变化，但还没有放到暂存区。 要暂存这次更新，需要运行 <code>git add</code>命令。 这是个多功能命令：可以用它开始跟踪新文件，或者把已跟踪的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等。 将这个命令理解为“添加内容到下一次提交中”而不是“将一个文件添加到项目中”要更加合适。运行<code>git add</code>将README放到暂存区，然后再看看<code>git status</code>的输出：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">	modified:   README</span><br></pre></td></tr></table></figure><h3 id="比较文件详细差异"><a href="#比较文件详细差异" class="headerlink" title="比较文件详细差异"></a>比较文件详细差异</h3><ul><li><p>查看工作区文件和暂存区文件差异</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git diff README</span><br><span class="line">diff --git a/README b/README</span><br><span class="line">index 325b5ab..557db03 100644</span><br><span class="line">--- a/README</span><br><span class="line">+++ b/README</span><br><span class="line">@@ -1,2 +1 @@</span><br><span class="line"> Hello World</span><br><span class="line">-change content</span><br></pre></td></tr></table></figure></li><li><p>查看暂存区和上一次提交的文件差异</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git diff --staged                  <span class="comment"># 或者使用git diff --cached</span></span><br><span class="line">diff --git a/README b/README</span><br><span class="line">index 557db03..0835e4f 100644</span><br><span class="line">--- a/README</span><br><span class="line">+++ b/README</span><br><span class="line">@@ -1 +1 @@</span><br><span class="line">-Hello World</span><br><span class="line">+change</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="移除文件"><a href="#移除文件" class="headerlink" title="移除文件"></a>移除文件</h3><p>在工作目录删除文件后，需要将删除修改暂存到暂存区然后再进行提交才能从已跟踪清单中移除。</p><details green><summary> 从工作目录删除文件后查看文件状态</summary><div class="content"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add/rm &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">	deleted:    README</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure><p>此时显示删除修改没有被暂存，下次提交的快照记录中不会删除文件，此时可以使用git add 或者git rm将删除修改保存到暂存区。</p></div></details><p>使用<code>git rm &lt;file&gt;</code>命令可以将文件从工作区删除并将删除修改保存到暂存区</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git rm README </span><br><span class="line">rm <span class="string">&#x27;README&#x27;</span></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)</span><br><span class="line">	deleted:    README</span><br></pre></td></tr></table></figure><div class="note"><p>如果删除的文件被修改并保存到了暂存区，需要使用-f选项强制删除</p></div><div class="note"><p>如果只想删除暂存区的文件保留工作目录下的文件，需要使用–cached选项</p></div><h3 id="移动文件"><a href="#移动文件" class="headerlink" title="移动文件"></a>移动文件</h3><p>和移除文件类似，在工作目录移动文件后需要将修改暂存才能在下次提交中被提交，可以使用<code>git mv &lt;file&gt;</code>命令移动工作区文件并暂存移动修改，等价于如下命令集合:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mv README.md README</span><br><span class="line">$ git rm README.md</span><br><span class="line">$ git add README</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/addCommit.png" class="lazyload" data-srcset="/image/Devops/git/addCommit.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="提交一次更新"></div><span class="image-caption">提交一次更新</span></div><h2 id="回滚修改"><a href="#回滚修改" class="headerlink" title="回滚修改"></a>回滚修改</h2><h3 id="撤销未提交的变更"><a href="#撤销未提交的变更" class="headerlink" title="撤销未提交的变更"></a>撤销未提交的变更</h3><ul><li>将工作区的文件回退到和暂存区一致：<ul><li><code>git checkout [--] &lt;file&gt;</code>：旧版本</li><li><code>git restore [--worktree] &lt;file&gt;</code></li></ul></li><li>使用上一次提交的快照替换暂存区的内容：<ul><li><code>git reset [HEAD] [&lt;file&gt;]</code>:旧版本，如果不指定文件则替换全部暂存</li><li><code>git restore --staged &lt;file&gt;</code></li></ul></li><li>取消暂存的文件同时更改工作目录中的文件（将指定文件从暂存区中移除并将工作目录中的文件回退到上一次提交的版本）：<ul><li><code>git reset --hard [HEAD]</code>:旧版本，只能全部重置不能指定某个文件</li><li><code>git checkout HEAD [&lt;file&gt; &lt;file&gt; ...]</code>：旧版本</li><li><code>git restore --staged --worktree &lt;file&gt; &lt;file&gt; ...</code><div class="note"><p>三种回滚的方式都可以指定回退到那一个版本的提交，git reset –hard<commit_id>、git checkout<commit_id> [<file><file>]（如果不指定回退的文件则会全部回退，并且处于<a href="">分离头指针</a>的状态）、git restore –staged [–worktree] –source=<commit_id><file><file></file></file></commit_id></file></file></commit_id></commit_id></p></div><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/stagedBack.png" class="lazyload" data-srcset="/image/Devops/git/stagedBack.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="撤销未提交的变更"></div><span class="image-caption">撤销未提交的变更</span></div><div class="note danger"><p>git reset 不仅会将文件回退到之前的版本甚至会清除指定提交版本之后的提交历史记录，永远不要重置那些已经被推送到公共仓库的提交快照</p></div></li></ul></li></ul><h3 id="撤销提交错误"><a href="#撤销提交错误" class="headerlink" title="撤销提交错误"></a>撤销提交错误</h3><ul><li><p><code>git commit --amend</code>：修复最新的一次提交，可以将暂存区的修改和上一次提交合并，而不是提交一份新的快照。缓存区没有文件时运行这个命令可以用来编辑上次提交的提交信息，而不会更改快照。<br>下面这个🌰展示了 Git 开发工作流中的一个常见情形。我们编辑了一些希望在同一个快照中提交的文件，但我们忘记添加了其中的一个。修复错误只需要缓存那个文件并且用 –amend 标记提交：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 hello.py 和 main.py</span></span><br><span class="line">git add hello.py</span><br><span class="line">git commit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 意识到你忘记添加 main.py 的更改</span></span><br><span class="line">git add main.py</span><br><span class="line">git commit --amend --no-edit</span><br></pre></td></tr></table></figure><p>编辑器会弹出上一次提交的信息，加入 –no-edit 标记会修复提交但不修改提交信息。需要的话你可以修改，不然的话就像往常一样保存并关闭文件。完整的提交会替换之前不完整的提交，看上去就像我们在同一个快照中提交了 hello.py 和 main.py。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/amend.gif" class="lazyload" data-srcset="/image/Devops/git/amend.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="git commit --amend更新上一次提交"></div><span class="image-caption">git commit --amend更新上一次提交</span></div></li><li><p><code>git rebase &lt;commit_id&gt;</code>：基于某一次提交的快照，重新整理之后的提交记录。可以通过-i选项进行交互式整理提交历史，如果不使用默认会将提交历史线性化处理一般用在处理分支合并的情况。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/rebase.gif" class="lazyload" data-srcset="/image/Devops/git/rebase.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="git rebase --i <commit_id>整理指定提交后的提交"></div><span class="image-caption">git rebase --i<commit_id>整理指定提交后的提交</commit_id></span></div></li><li><p><code>git revert &lt;commit_id&gt;</code>：基于指定的快照做一次新的提交，同时会更新暂存区和工作区</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/revert.png" class="lazyload" data-srcset="/image/Devops/git/revert.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="git revert <commit_id> 使用指定版本的提交快照做一次新的提交"></div><span class="image-caption">git revert<commit_id> 使用指定版本的提交快照做一次新的提交</commit_id></span></div></li></ul><h3 id="查看提交历史"><a href="#查看提交历史" class="headerlink" title="查看提交历史"></a>查看提交历史</h3><p>使用<code>git log</code>命令可以回顾提交历史，不传入任何参数的默认情况下，会按时间先后顺序列出所有的提交，最近的更新排在最上面。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> </span><br><span class="line">commit 8a71ac1b9775a0dd80f31aba914513539cfa4441 (HEAD -&gt; master)</span><br><span class="line">Author: 欧阳罗霄 &lt;2236212702@qq.com&gt;</span><br><span class="line">Date:   Thu May 27 14:41:19 2021 +0800</span><br><span class="line"></span><br><span class="line">    Revert <span class="string">&quot;add index.js&quot;</span></span><br><span class="line">    </span><br><span class="line">    This reverts commit 5a412bfa187031dd9321ad17575dd907390893ab.</span><br><span class="line"></span><br><span class="line">commit 5a412bfa187031dd9321ad17575dd907390893ab</span><br><span class="line">Author: 欧阳罗霄 &lt;2236212702@qq.com&gt;</span><br><span class="line">Date:   Thu May 27 14:38:33 2021 +0800</span><br><span class="line"></span><br><span class="line">    add index.js</span><br><span class="line"></span><br><span class="line">commit 31ae2ddc94e9f944c2befe0a61604e68355d199c</span><br><span class="line">Author: 欧阳罗霄 &lt;2236212702@qq.com&gt;</span><br><span class="line">Date:   Thu May 27 14:35:19 2021 +0800</span><br><span class="line"></span><br><span class="line">    add style.css</span><br><span class="line"></span><br><span class="line">commit f106a0567207fc166d9cbd2e2e2867a66335e155</span><br><span class="line">Author: 欧阳罗霄 &lt;2236212702@qq.com&gt;</span><br><span class="line">Date:   Thu May 27 14:24:46 2021 +0800</span><br><span class="line"></span><br><span class="line">    合并两次提交</span><br></pre></td></tr></table></figure><p>这个命令会列出每个提交的 SHA-1 校验和、作者的名字和电子邮件地址、提交时间以及提交说明。</p><p>常用的选项如下：</p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td><code>--patch</code></td><td>按补丁格式显示每个提交引入的差异。</td></tr><tr><td><code>--stat</code></td><td>显示每次提交的文件修改统计信息。</td></tr><tr><td><code>--oneline</code></td><td>仅显示commit_id缩略号和提交信息</td></tr><tr><td><code>-&lt;n&gt;</code></td><td>仅显示最近的 n 条提交。</td></tr><tr><td><code>--author</code></td><td>仅显示作者匹配指定字符串的提交。</td></tr><tr><td><code>-S</code></td><td>仅显示添加或删除内容匹配指定字符串的提交。</td></tr></tbody></table><h2 id="打标签"><a href="#打标签" class="headerlink" title="打标签"></a>打标签</h2><p>Git 可以给历史中的某一个提交打上标签，以示重要。 比较有代表性的是人们会使用这个功能来标记发布结点（v1.0 等等）。Git 使用两种主要类型的标签：轻量标签（lightweight）与附注标签（annotated）。<br>一个轻量标签很像一个不会改变的分支 - 它只是一个特定提交的引用。<br>附注标签是存储在 Git 数据库中的一个完整对象。 它们是可以被校验的；其中包含打标签者的名字、电子邮件地址、日期时间；还有一个标签信息；并且可以使用 GNU Privacy Guard （GPG）签名与验证。 通常建议创建附注标签，这样你可以拥有以上所有信息；但是如果你只是想用一个临时的标签，或者因为某些原因不想要保存那些信息，轻量标签也是可用的。</p><ul><li><p>新建附注标签：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a &lt;tag_name&gt; -m <span class="string">&#x27;标签说明信息&#x27;</span> [&lt;commit_id&gt;]			<span class="comment">#如果没有为附注标签指定一条信息，Git 会运行编辑器要求你输入信息。不指定提交id则默认为HEAD提交打标签</span></span><br></pre></td></tr></table></figure></li><li><p>新建轻量标签：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag &lt;tag_name&gt; -m <span class="string">&#x27;标签说明信息&#x27;</span> [&lt;commit_id&gt;]	</span><br></pre></td></tr></table></figure></li><li><p>列出现有的标签：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -l <span class="string">&#x27;过滤条件&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>显示标签对应的提交详细信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show &lt;tag&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><h3 id="git三大对象"><a href="#git三大对象" class="headerlink" title="git三大对象"></a>git三大对象</h3><p>在学习分支之前需要深入理解一下git的一些底层概念和实际存储，其中最重要的是commit、tree、blob三个对象，实际数据都存放在项目根目录下的.git目录。<br>暂存操作’git add’会使用SHA-1哈希算法计算每个文件的校验和，然后会把当前版本的文件快照保存到 Git 仓库中（Git 使用 blob 对象来保存它们，如果文件的内容没有改变则不会保存重复的快照），最终将校验和加入到暂存区域等待提交。<br>当使用<code>git commit</code>进行提交操作时，Git 会先计算每一个子目录的校验和，然后在 Git 仓库中这些校验和保存为树对象。 随后，Git 便会创建一个提交对象包含指向项目根目录对应的树对象的指针、作者的姓名和邮箱、提交时输入的信息以及指向它的父对象的指针。首次提交产生的提交对象没有父对象，普通提交操作产生的提交对象有一个父对象，而由多个分支合并产生的提交对象有多个父对象</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/gitObjects.png" class="lazyload" data-srcset="/image/Devops/git/gitObjects.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="commit、tree、blob对象之间的关系"></div><span class="image-caption">commit、tree、blob对象之间的关系</span></div><p>做些修改后再次提交，那么这次产生的提交对象会包含一个指向上次提交对象（父对象）的指针。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/commits-and-parents.png" class="lazyload" data-srcset="/image/Devops/git/commits-and-parents.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="提交对象及其父对象"></div><span class="image-caption">提交对象及其父对象</span></div><h3 id="git核心目录"><a href="#git核心目录" class="headerlink" title="git核心目录"></a>git核心目录</h3><p>在项目根目录下的.git目录存有git仓库的全部数据:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.git/</span><br><span class="line">├── branches</span><br><span class="line">├── COMMIT_EDITMSG</span><br><span class="line">├── config				<span class="comment"># git config --local 设置的配置存放文件</span></span><br><span class="line">├── description</span><br><span class="line">├── HEAD				<span class="comment"># 指向当前追踪的提交对象即下一次提交的父对象</span></span><br><span class="line">├── hooks</span><br><span class="line">├── index</span><br><span class="line">├── info</span><br><span class="line">├── logs				<span class="comment"># 存放git的日志</span></span><br><span class="line">├── objects				<span class="comment"># 存放git的三大对象：commit、tree、blob</span></span><br><span class="line">├── ORIG_HEAD</span><br><span class="line">├── packed-refs</span><br><span class="line">├── REBASE_HEAD</span><br><span class="line">└── refs				<span class="comment"># 存放标签、分支</span></span><br></pre></td></tr></table></figure><h3 id="分支、标签、HEAD头指针"><a href="#分支、标签、HEAD头指针" class="headerlink" title="分支、标签、HEAD头指针"></a>分支、标签、HEAD头指针</h3><p>Git 的分支、标签、HEAD头指针都是指向提交对象的指针，区别在于一般HEAD、分支都是可变的，而标签声明后不会指向其他提交对象。在<code>.git/refs</code>目录下有<code>heads</code>、<code>tag</code>目录分别存放当前项目的分支和标签，这些文件的内容是提交对象的校验和即commit_id，而HEAD头指针记录在<code>.git/HEAD</code>文件中，通常是指向一个分支指向<code>.git/refs/heads</code>下的一个文件例如：<code>ref: refs/heads/master</code>，也可以直接指向提交对象（此时称为分离头指针状态）保存提交对象的索引<code>commit_id</code>。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/branch-and-history.png" class="lazyload" data-srcset="/image/Devops/git/branch-and-history.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="分支及其提交历史"></div><span class="image-caption">分支及其提交历史</span></div><h3 id="分支的新建、切换、删除与合并"><a href="#分支的新建、切换、删除与合并" class="headerlink" title="分支的新建、切换、删除与合并"></a>分支的新建、切换、删除与合并</h3><ul><li><p>查看分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch 	<span class="comment"># 查看存在的分支列表</span></span><br><span class="line">  iss53		</span><br><span class="line">* master		<span class="comment"># 当前HEAD指针正指向master分支</span></span><br></pre></td></tr></table></figure><p>常用选项</p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td><code>-v</code></td><td>查看每一个分支的最后一次提交</td></tr><tr><td><code>--merged</code> 与 <code>--no-merged</code></td><td>过滤这个列表中已经合并或尚未合并到当前分支的分支</td></tr></tbody></table></li><li><p>新建分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch &lt;branch_name&gt;			<span class="comment"># 基于当前HEAD指向的提交对象新建一个branch_name分支，当前跟踪的分支不变</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/create-branching-1.png" class="lazyload" data-srcset="/image/Devops/git/create-branching-1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="根据HEAD指向的提交对象新建分支"></div><span class="image-caption">根据HEAD指向的提交对象新建分支</span></div></li><li><p>切换分支</p><p>本质上是改变HEAD头指针的值，如果切换到分支，每一次提交时HEAD指向的分支指针会指向最新的提交对象。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout &lt;branch_name&gt;或git switch &lt;branch_name&gt;			<span class="comment"># 切换到branch_name分支，清空暂存区，将工作目录同步到切换的分支</span></span><br><span class="line">$ git checkout -b &lt;branch_name&gt;或git switch -c &lt;branch_name&gt;     <span class="comment"># 基于当前HEAD指向的提交对象新建一个branch_name分支，并且换到新分支</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># git checkout命令可以切换到提交对象、分支、标签，git switch只能切换到分支</span></span><br></pre></td></tr></table></figure><p>使用上面的命令切换到iss53分支，并做出一些修改并提交到iss53分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ vim index.html</span><br><span class="line">$ git commit -a -m <span class="string">&#x27;added a new footer [issue 53]&#x27;</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/switch-branching.png" class="lazyload" data-srcset="/image/Devops/git/switch-branching.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="提交到新分支"></div><span class="image-caption">提交到新分支</span></div></li><li><p>合并分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git merge &lt;branch_name&gt;				<span class="comment"># 将branch_name分支合并到当前分支</span></span><br></pre></td></tr></table></figure><ul><li><p>fast-forwrad合并</p><p>如果当前分支与合并分支属于线性关系，即合并分支指向的提交对象是当前分支指向的提交对象的直接后继， Git会直接将当前分支指针向前移动。换句话说，当你试图合并两个分支时， 如果顺着一个分支走下去能够到达另一个分支，那么 Git 在合并两者的时候， 只会简单的将指针向前推进（指针右移），因为这种情况下的合并操作没有需要解决的分歧——这就叫做 “快进（fast-forward）”。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/merge-ff.gif" class="lazyload" data-srcset="/image/Devops/git/merge-ff.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="当前分支相比于我们要合并的分支没有额外的提交（commit）时，执行 fast-forward 合并"></div><span class="image-caption">当前分支相比于我们要合并的分支没有额外的提交（commit）时，执行 fast-forward 合并</span></div></li><li><p>No-fast-foward (—no-ff)</p><p>如果当前分支含有合并分支没有的提交对象，则会进行No-fast-foward合并。Git 会使用两个分支的末端所指的快照以及这两个分支的公共祖先，做一个简单的三方合并。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/merge-no-ff.gif" class="lazyload" data-srcset="/image/Devops/git/merge-no-ff.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="当前分支相比于我们要合并的分支有额外的提交（commit）时，执行 No-fast-forward 合并"></div><span class="image-caption">当前分支相比于我们要合并的分支有额外的提交（commit）时，执行 No-fast-forward 合并</span></div></li><li><p>发生合并冲突</p><p>如果两个分支修改了同一个文件同一处位置的代码时或者一个分支删除了一个文件而另一个分支修改了这个文件时，Git不能自己决定该使用哪一个分支的内容，因此就出现了合并冲突，当尝试合并这些分支时，Git 会向你展示冲突出现的位置。我们可以手动移除我们不想保留的修改，保存这些修改，再次添加这个已修改的文件，然后提交这些修改。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="/image/Devops/git/merge-conflict.gif" class="lazyload" data-srcset="/image/Devops/git/merge-conflict.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="手动解决合并冲突，重新提交"></div><span class="image-caption">手动解决合并冲突，重新提交</span></div></li></ul></li><li><p>删除分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d &lt;branch_name&gt;			<span class="comment"># 删除分支</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="储藏与清理"><a href="#储藏与清理" class="headerlink" title="储藏与清理"></a>储藏与清理</h2><div class="footer"><div class="references"><section class="header"><i class="fas fa-quote-left fa-fw" aria-hidden="true"></i> <span>参考资料</span></section><section class="body"><ul><li> <a href="https://bingohuang.gitbooks.io/progit2/content/01-introduction/sections/about-version-control.html" rel="external nofollow noopener noreferrer" target="_blank">《Git Pro2中文Gitbook》</a></li><li> <a href="https://github.com/geeeeeeeeek/git-recipes" rel="external nofollow noopener noreferrer" target="_blank">高质量的 Git 中文教程</a></li><li> <a href="http://dockone.io/article/10081" rel="external nofollow noopener noreferrer" target="_blank">动图展示十大Git命令</a></li></ul></section></div><div class="copyright"><blockquote><p>博客内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</p><p>本文永久链接是：<a href="https://www.guluo.icu/git/local/">https://www.guluo.icu/git/local/</a></p></blockquote></div></div><div class="article-meta" id="bottom"><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-06-01T11:30:58+08:00"><a class="notlink"><i class="fad fa-edit PETERRIVE fa-fw" aria-hidden="true"></i><p>更新于：2021年6月1日</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/git/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>git</p></a></div><div class="new-meta-item share -mob-share-list"><div class="-mob-share-list share-body"> <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer noopener" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.guluo.icu/git/local/&title=搭建本地代码仓库 - 楼&summary="><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qq.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></a> <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer noopener" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://www.guluo.icu/git/local/&title=搭建本地代码仓库 - 楼&summary="><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/qzone.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></a> <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer noopener" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.guluo.icu/git/local/&title=搭建本地代码仓库 - 楼&summary="><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/128/weibo.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></a></div></div></div></div><div class="prev-next"><a class="next" href="/git/concept/"><p class="title">git及版本控制<i class="fad fa-chevron-right" aria-hidden="true"></i></p><p class="content">关于版本控制版本控制用于记录一个或多个文件内容变更，以方便将来查询修订情况。使用版本控制就可以将某个文件回溯到之前的状态，甚至将整个项目都回退到过去某个时间点的状态，你可以比较文件的变化细节，查...</p></a></div></article><article class="post white-box reveal shadow" id="comments"><p ct><i class="fad fa-comments POMEGRANATE"></i> 评论</p><div id="waline"><i class="fad fa-cog fa-spin fa-fw fa-2x"></i></div></article></div><aside id="l_side"><section class="widget toc-wrapper shadow desktop mobile" id="toc-div"><header><i class="fas fa-list fa-fw" aria-hidden="true"></i> <span class="name">本文目录</span></header><div class="content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85git"><span class="toc-text">安装git</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git%E9%85%8D%E7%BD%AE"><span class="toc-text">git配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93"><span class="toc-text">获取代码仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E7%8E%B0%E6%9C%89%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BB%93%E5%BA%93"><span class="toc-text">在现有目录中初始化仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%8B%E9%9A%86%E5%B7%B2%E6%9C%89%E7%9A%84%E4%BB%93%E5%BA%93"><span class="toc-text">克隆已有的仓库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E6%AF%8F%E6%AC%A1%E6%9B%B4%E6%96%B0%E5%88%B0%E4%BB%93%E5%BA%93"><span class="toc-text">记录每次更新到仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81"><span class="toc-text">检查当前文件状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%9F%E8%B8%AA%E6%96%B0%E6%96%87%E4%BB%B6"><span class="toc-text">跟踪新文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4%E6%9B%B4%E6%96%B0"><span class="toc-text">提交更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9A%82%E5%AD%98%E5%B7%B2%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6"><span class="toc-text">暂存已修改文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E6%96%87%E4%BB%B6%E8%AF%A6%E7%BB%86%E5%B7%AE%E5%BC%82"><span class="toc-text">比较文件详细差异</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-text">移除文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6"><span class="toc-text">移动文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E6%BB%9A%E4%BF%AE%E6%94%B9"><span class="toc-text">回滚修改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%92%A4%E9%94%80%E6%9C%AA%E6%8F%90%E4%BA%A4%E7%9A%84%E5%8F%98%E6%9B%B4"><span class="toc-text">撤销未提交的变更</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%92%A4%E9%94%80%E6%8F%90%E4%BA%A4%E9%94%99%E8%AF%AF"><span class="toc-text">撤销提交错误</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2"><span class="toc-text">查看提交历史</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E6%A0%87%E7%AD%BE"><span class="toc-text">打标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF"><span class="toc-text">分支</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git%E4%B8%89%E5%A4%A7%E5%AF%B9%E8%B1%A1"><span class="toc-text">git三大对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git%E6%A0%B8%E5%BF%83%E7%9B%AE%E5%BD%95"><span class="toc-text">git核心目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E3%80%81%E6%A0%87%E7%AD%BE%E3%80%81HEAD%E5%A4%B4%E6%8C%87%E9%92%88"><span class="toc-text">分支、标签、HEAD头指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B0%E5%BB%BA%E3%80%81%E5%88%87%E6%8D%A2%E3%80%81%E5%88%A0%E9%99%A4%E4%B8%8E%E5%90%88%E5%B9%B6"><span class="toc-text">分支的新建、切换、删除与合并</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%82%A8%E8%97%8F%E4%B8%8E%E6%B8%85%E7%90%86"><span class="toc-text">储藏与清理</span></a></li></ol></div></section><section class="widget grid shadow desktop"><header><i class="fad fa-map-signs ASBESTOS fa-fw fa-fw" aria-hidden="true"></i> <span class="name">站内导航</span></header><div class="content"><div class="grid navigation fixed"><a class="flat-box" target="_blank" rel="noopener" href="https://github.com/volantis-x/hexo-theme-volantis/issues/" id="https:githubcomvolantis-xhexo-theme-volantisissues"><i class="fas fa-bug fa-fw" aria-hidden="true"></i> 反馈BUG</a></div></div></section><section class="widget shadow desktop"><header><i class="fas fa-award fa-fw" aria-hidden="true"></i> <span class="name">站点信息</span></header><div class="content"><div class="webinfo"><div class="webinfo-item"><div>文章数目：</div><div>5 篇</div></div><div class="webinfo-item"><div>已运行时间：</div><div id="webinfo-runtime-count" publish_date="03/24/2020 21:34:09"></div></div><script>var BirthDay=new Date(new Date("2021/04/01")),today=new Date,timeold=today.getTime()-BirthDay.getTime(),daysold=Math.floor(timeold/864e5);document.getElementById("webinfo-runtime-count").innerHTML=daysold+" 天"</script><div class="webinfo-item"><div>本站总字数：</div><div>14.5k 字</div></div><div class="webinfo-item"><div>本站访客数：</div><div><span id="lc-uv"><span id="number"><i class="fad fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span></span> 人</div></div><div class="webinfo-item"><div>本站总访问量：</div><div><span id="lc-sv"><span id="number"><i class="fad fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span></span> 次</div></div><div class="webinfo-item"><div>最后活动时间：</div><div id="last-update" style="display:none">Tue Jun 01 2021 14:36:07 GMT+0800 (GMT+08:00)</div><div id="last-update-show">2021-06-01 日</div></div><script>function timeago(e){var t=(new Date).getTime()-e;if(!(t<0)){var s=t/6e4,a=t/36e5,n=t/864e5,r=t/6048e5,l=t/2592e6;if(l>=1&&l<=3)result=" "+parseInt(l)+" 月前";else if(r>=1&&r<=3)result=" "+parseInt(r)+" 周前";else if(n>=1&&n<=6)result=" "+parseInt(n)+" 天前";else if(a>=1&&a<=23)result=" "+parseInt(a)+" 小时前";else if(s>=1&&s<=59)result=" "+parseInt(s)+" 分钟前";else if(t>=0&&t<=6e4)result="刚刚";else{var u=new Date;u.setTime(e);var g=u.getFullYear(),i=u.getMonth()+1<10?"0"+(u.getMonth()+1):u.getMonth()+1,o=u.getDate()<10?"0"+u.getDate():u.getDate();u.getHours(),u.getHours(),u.getMinutes(),u.getMinutes(),u.getSeconds(),u.getSeconds(),result=g+"-"+i+"-"+o}return result}}var lastUpDate=document.getElementById("last-update").innerHTML;try{document.getElementById("last-update-show").innerHTML=timeago(new Date(lastUpDate))}catch(e){document.getElementById("last-update-show").innerHTML="2021-06-01 日"}</script></div></div></section></aside><script>window.pdata={},pdata.ispage=!0,pdata.postTitle="搭建本地代码仓库",pdata.commentPath="",pdata.commentPlaceholder="";var l_header=document.getElementById("l_header");l_header.classList.add("show");var cover_wrapper=document.querySelector("#l_cover .cover-wrapper"),scroll_down=document.getElementById("scroll-down");cover_wrapper.id="none",cover_wrapper.style.display="none",scroll_down.style.display="none"</script></div><footer class="footer clearfix"><br><br><br><div class="social-wrapper"><a href="/atom.xml" class="social fas fa-rss flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a><a href="mailto:2236212702@qq.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a><a href="https://github.com/oylx-maker" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a><a href="https://music.163.com/#/user/home?id=63035382" class="social fas fa-headphones-alt flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a></div><div class="copyright"><p><a href="/">Copyright © 2017-2020 XXX</a></p></div><div><p><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn">蜀ICP备2021009139号-1</a></p></div></footer><a id="s-top" class="fad fa-arrow-up fa-fw" href="javascript:void(0)"></a></div></div><div><script>function RunItem(){function t(t,e){this.name=e||t.name,this.run=()=>{try{t()}catch(t){console.log(t)}}}this.list=[],this.start=()=>{for(var t=0;t<this.list.length;t++)this.list[t].run()},this.push=(e,n)=>{var s=new t(e,n);this.list.push(s)}}window.volantis={},volantis.$={},volantis.pjax={},volantis.pjax.method={complete:new RunItem,error:new RunItem,send:new RunItem},volantis.pjax={...volantis.pjax,push:volantis.pjax.method.complete.push,error:volantis.pjax.method.error.push,send:volantis.pjax.method.send.push},volantis.dark={},volantis.dark.method={toggle:new RunItem},volantis.dark={...volantis.dark,push:volantis.dark.method.toggle.push},volantis.js=(t,e)=>new Promise(n=>{setTimeout((function(){var s=document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script");if(o.setAttribute("type","text/javascript"),e)if(JSON.stringify(e))for(let t in e)o[t]="onload"==t?()=>{e[t](),n()}:e[t];else o.onload=()=>{e(),n()};else o.onload=n;o.setAttribute("src",t),s.appendChild(o)}))}),volantis.css=t=>new Promise(e=>{setTimeout((function(){var n=document.createElement("link");n.rel="stylesheet",n.href=t,n.onload=e,document.getElementsByTagName("head")[0].appendChild(n)}))})</script><script>volantis.css("/fonts/fontawesome/css/all.min.css"),volantis.css("https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css")</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js"></script><div id="rightmenu-wrapper"><ul class="list-v rightmenu" id="rightmenu-content"><li class="navigation menuNavigation-Content"><a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa fa-arrow-left fa-fw"></i></a><a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa fa-arrow-right fa-fw"></i></a><a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa fa-redo fa-fw"></i></a><a class="nav icon-only fix-cursor-default" href="/"><i class="fa fa-home fa-fw"></i></a></li><li class="option menuOption-Content"><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copyText"><i class="fa fa-copy fa-fw"></i> 复制文本</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copyPaste"><i class="fa fa-paste fa-fw mR12"></i> 粘贴文本</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copySelect"><i class="fa fa-object-ungroup fa-fw mR12"></i> 全选文本</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copyCut"><i class="fa fa-cut fa-fw mR12"></i> 剪切文本</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="openTab"><i class="fa fa-external-link-square-alt fa-fw mR12"></i> 在新标签页打开</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copySrc"><i class="fa fa-image fa-fw mR12"></i> 复制图片地址</span><span class="vlts-menu opt fix-cursor-default menu-Option" data-fn-type="copyImg"><i class="fa fa-images fa-fw mR12"></i> 复制图片文件</span></li><hr class="menuLoad-Content"><li class="option menuOption-Content"><span class="vlts-menu opt fix-cursor-default" id="printHtml"><i class="fa fa-print fa-fw"></i> 打印页面</span></li><li class="menuLoad-Content"><a class="vlts-menu fix-cursor-default"><i class="fas fa-moon fa-fw"></i> Dark mode</a></li></ul></div><script>volantis.rightMenu={},volantis.rightMenu.defaultStyles=!0,volantis.js("/js/rightMenu.js")</script><script>function loadIssuesJS(){null!=document.getElementById("sites-api")&&"undefined"==typeof SitesJS&&volantis.js("/js/plugins/sites.js"),null!=document.getElementById("friends-api")&&"undefined"==typeof FriendsJS&&volantis.js("/js/plugins/friends.js"),null!=document.getElementById("contributors-api")&&"undefined"==typeof ContributorsJS&&volantis.js("/js/plugins/contributors.js")}$((function(){loadIssuesJS()})),volantis.pjax.push(()=>{loadIssuesJS()})</script><script defer="defer" src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script><script>window.lazyLoadOptions={elements_selector:".lazyload",threshold:0},window.addEventListener("LazyLoad::Initialized",(function(n){window.lazyLoadInstance=n.detail.instance}),!1),document.addEventListener("DOMContentLoaded",(function(){lazyLoadInstance.update()})),document.addEventListener("pjax:complete",(function(){lazyLoadInstance.update()}))</script><script>window.FPConfig={delay:0,ignoreKeywords:[],maxRPS:5,hoverDelay:25}</script><script defer="defer" src="https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script>var clipboard=new ClipboardJS(".btn-copy",{target:function(e){return e.nextElementSibling}});function wait(e,i){window.setTimeout(e,i)}function pjax_initCopyCode(){if($(".highlight .code pre").length+$(".article pre code").length!=0){var e="";e+='<button class="btn-copy" data-clipboard-snippet="">',e+='<i class="fad fa-copy"></i><span>COPY</span>',e+="</button>",$(".highlight .code pre").before(e),$(".article pre code").before(e),clipboard.off("success").on("success",(function(e){let i=$(e.trigger);i.addClass("copied");let a=$(i.find("i"));a.removeClass("fa-copy"),a.addClass("fa-check-circle");let n=$(i.find("span"));n[0].innerText="COPIED",wait((function(){a.removeClass("fa-check-circle"),a.addClass("fa-copy"),n[0].innerText="COPY"}),2e3)})),clipboard.off("error").on("error",(function(e){e.clearSelection();let i=$(e.trigger);i.addClass("copy-failed");let a=$(i.find("i"));a.removeClass("fa-copy"),a.addClass("fa-times-circle");let n=$(i.find("span"));n[0].innerText="COPY FAILED",wait((function(){a.removeClass("fa-times-circle"),a.addClass("fa-copy"),n[0].innerText="COPY"}),2e3)}))}}$((function(){pjax_initCopyCode()})),volantis.pjax.push(pjax_initCopyCode)</script><script src="https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js"></script><script>function pjax_waline(){if(!document.querySelectorAll("#waline")[0])return;let e=pdata.commentPlaceholder||"快来评论吧~",t=pdata.commentPath;0==t.length&&(t=decodeURI(window.location.pathname)),new Waline(Object.assign({js:"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js",path:null,placeholder:"快来评论吧~",imageHosting:"https://7bu.top/api/upload",meta:["nick","mail","link"],requiredFields:["nick","mail"],serverURL:"https://imnerd-api-ashy.vercel.app/",avatar:"robohas",avatarCDN:null,pageSize:10,lang:"zh-CN",visitor:!0,emojiMaps:{"heo-再见":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/再见.png","heo-微笑":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/微笑.png","heo-亲亲":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/亲亲.png","heo-愤怒":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/愤怒.png","heo-尴尬":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/尴尬.png","heo-捂嘴笑":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/捂嘴笑.png","heo-惊吓":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/惊吓.png","heo-捂脸":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/捂脸.png","heo-生病":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/生病.png","heo-绿帽":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/绿帽.png","heo-鼓掌":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/鼓掌.png","heo-抠鼻":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/抠鼻.png","heo-感动":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/感动.png","heo-吐血":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/吐血.png","heo-鬼脸":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/鬼脸.png","heo-擦汗":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/擦汗.png","heo-惊讶":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/惊讶.png","heo-恶心":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/恶心.png","heo-禁言":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/禁言.png","heo-睡觉":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/睡觉.png","heo-笑哭":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/笑哭.png","heo-思考":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/思考.png","heo-疑问":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/疑问.png","heo-奋斗":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/奋斗.png","heo-耍酷":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/耍酷.png","heo-吵架":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/吵架.png","heo-眩晕":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/眩晕.png","heo-哭泣":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/哭泣.png","heo-开心":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/开心.png","heo-害羞":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/害羞.png","heo-喜欢":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/喜欢.png","heo-烦恼":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/烦恼.png","heo-爆炸":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/爆炸.png","heo-熬夜":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/熬夜.png","heo-吃瓜":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/吃瓜.png","heo-阴险":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/阴险.png","heo-狗头":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/狗头.png","heo-滑稽":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/滑稽.png","heo-被打":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/被打.png","heo-哈士奇":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/哈士奇.png","heo-大笑":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/大笑.png","heo-加班":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/加班.png","heo-唱歌":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/唱歌.png","heo-纠结":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/纠结.png","heo-发红包":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/发红包.png","heo-送福":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/送福.png","heo-牛年进宝":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/牛年进宝.png","heo-狗头围脖":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/狗头围脖.png","heo-狗头花":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/狗头花.png","heo-狗头草":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/狗头草.png","heo-头秃":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/头秃.png","heo-狗头胖次":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/狗头胖次.png","heo-我看好你":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/我看好你.png","heo-好的":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/好的.png","heo-好奇":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/好奇.png","heo-偷偷看":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/偷偷看.png","heo-危险":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/危险.png","heo-小丑":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/小丑.png","heo-引起不适":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/引起不适.png","heo-滑稽喝水":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/滑稽喝水.png","heo-熊猫":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/熊猫.png","heo-熊猫唱歌":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/熊猫唱歌.png","heo-打牌":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/打牌.png","heo-哈士奇失去意识":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/哈士奇失去意识.png","heo-应援":"https://cdn.jsdelivr.net/gh/zhheo/Sticker-Heo@main/Sticker-100/应援.png"}},{el:"#waline",path:t,placeholder:e,uploadImage:function(e){const t=new FormData;return t.append("image",e),fetch("https://7bu.top/api/upload",{method:"POST",body:t}).then(e=>e.json()).then(e=>e.data.url)}}))}$((function(){pjax_waline()})),volantis.pjax.push(pjax_waline)</script><script src="/js/app.js"></script><script>const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/",ROOT="/".endsWith("/")?"/":"//";function listenSearch(){customSearch=new HexoSearch({imagePath:SearchServiceimagePath})}function setSearchService(){listenSearch(),document.addEventListener("pjax:success",listenSearch)}$(".input.u-search-input").one("focus",(function(){volantis.js("https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2.6.4/js/search.js",setSearchService)}))</script><script defer="defer">const LCCounter={app_id:"ybMPynUfyv3NPRE4k7ep6osN-gzGzoHsz",app_key:"j85W5iluYcIYun0snaxJgoRd",custom_api_server:"",getRecord:(e,t,r)=>new Promise((function(n,o){e("get","/classes/Counter?where="+encodeURIComponent(JSON.stringify({url:t}))).then(e=>e.json()).then(({results:i,code:s,error:a})=>{if(401===s)throw a;if(i&&i.length>0){var l=i[0];n(l)}else e("post","/classes/Counter",{url:t,title:r,times:0}).then(e=>e.json()).then((e,t)=>{if(t)throw t;n(e)}).catch(e=>{console.error("Failed to create",e),o(e)})}).catch(e=>{console.error("LeanCloud Counter Error:",e),o(e)})})),increment:(e,t)=>new Promise((function(r,n){e("post","/batch",{requests:t}).then(e=>{if((e=e.json()).error)throw e.error;r(e)}).catch(e=>{console.error("Failed to save visitor count",e),n(e)})})),buildIncrement:e=>({method:"PUT",path:"/1.1/classes/Counter/"+e,body:{times:{__op:"Increment",amount:1}}}),validUV(){var e="LeanCloudUVTimestamp",t=localStorage.getItem(e);return!(t&&(new Date).getTime()-parseInt(t)<=864e5||(localStorage.setItem(e,(new Date).getTime().toString()),0))},addCount(e){var t=[],r=[],n=document.querySelector("#lc-sv"),o=this.getRecord(e,"https://www.guluo.icu/#lc-sv","Visits").then(e=>{r.push(this.buildIncrement(e.objectId));var t=document.querySelectorAll("#lc-sv #number");t.length>0&&t.forEach((t,r,o)=>{t.innerText=e.times+1,n&&(n.style.display="inline")})});t.push(o);var s=document.querySelector("#lc-uv"),a=this.getRecord(e,"https://www.guluo.icu/#lc-uv","Visitors").then(e=>{var t=this.validUV();t&&r.push(this.buildIncrement(e.objectId));var n=document.querySelectorAll("#lc-uv #number");n.length>0&&n.forEach((r,n,o)=>{r.innerText=e.times+(t?1:0),s&&(s.style.display="inline")})});t.push(a);var l=document.querySelectorAll("#lc-pv");for(l.length,i=0;i<l.length;i++){let n=l[i],o=n.getAttribute("data-title");var c="https://www.guluo.icu"+n.getAttribute("data-path");if(c){var h=this.getRecord(e,c,o).then(e=>{let t=window.location.pathname;if(t.includes("index.html")&&(t=t.substring(0,t.lastIndexOf("index.html"))),n.getAttribute("data-path")==t&&r.push(this.buildIncrement(e.objectId)),n){var o=n.querySelector("#lc-pv #number");o&&(n.getAttribute("data-path")==t?o.innerText=(e.times||0)+1:o.innerText=e.times||0,n.style.display="inline")}});t.push(h)}}Promise.all(t).then(()=>{r.length>0&&this.increment(e,r)})},fetchData(e){this.addCount((t,r,n)=>fetch(`${e}/1.1${r}`,{method:t,headers:{"X-LC-Id":this.app_id,"X-LC-Key":this.app_key,"Content-Type":"application/json"},body:JSON.stringify(n)}))},refreshCounter(){var e="-MdYXbMMI"!==this.app_id.slice(-9)?this.custom_api_server:`https://${this.app_id.slice(0,8).toLowerCase()}.api.lncldglobal.com`;e?this.fetchData(e):fetch("https://app-router.leancloud.cn/2/route?appId="+this.app_id).then(e=>e.json()).then(({api_server:e})=>{this.fetchData("https://"+e)})}};LCCounter.refreshCounter(),document.addEventListener("pjax:complete",(function(){LCCounter.refreshCounter()}))</script><script>setTimeout((function(){function a(){dataLayer.push(arguments)}volantis.js("https://www.googletagmanager.com/gtag/js?id=G-TS0XM5EFK1"),window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","G-TS0XM5EFK1")}),5e3),volantis.pjax.push(()=>{window.dataLayer=window.dataLayer||[],function(){dataLayer.push(arguments)}("config","G-TS0XM5EFK1",{page_path:document.location.pathname})},"google_analytics")</script><script>var _hmt=_hmt||[];setTimeout((function(){volantis.js("https://hm.baidu.com/hm.js?3736afbe2db81c97b667096bfc2567fb")}),5e3),volantis.pjax.push(()=>{_hmt.push(["_trackPageview",document.location.pathname])},"baidu_analytics")</script><script>volantis.message=(s,e,a,t,i=3e3)=>{function m(s,e,a,t,i){$.message({title:s,message:e,type:a,autoClose:t,time:i})}void 0===$.message?(volantis.css("/css/message.css"),volantis.js("/js/message.js",()=>{m(s,e,a,t,i)})):m(s,e,a,t,i)}</script><pjax></pjax><pjax></pjax><script>function listennSidebarTOC(){const e=document.querySelectorAll(".toc li");if(!e.length)return;const t=[...e].map(e=>{const t=e.querySelector(".toc-link"),n=document.getElementById(decodeURI(t.getAttribute("href")).replace("#",""));return t.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:n.offsetTop+document.getElementById("safearea").offsetTop+5,behavior:"smooth"})}),n});!function n(o){o=Math.floor(o+1e4);let r=new IntersectionObserver((r,c)=>{let i=document.documentElement.scrollHeight+document.getElementById("safearea").offsetTop+5;if(i>o)return c.disconnect(),void n(i);let a=function(e){let n=0,o=e[n];if(o.boundingClientRect.top>0)return n=t.indexOf(o.target),0===n?0:n-1;for(;n<e.length;n++){if(!(e[n].boundingClientRect.top<=0))return t.indexOf(o.target);o=e[n]}return t.indexOf(o.target)}(r);!function(e){if(e.classList.contains("active-current"))return;document.querySelectorAll(".toc .active").forEach(e=>{e.classList.remove("active","active-current")}),e.classList.add("active","active-current");let t=e.parentNode;for(;!t.matches(".toc");)t.matches("li")&&t.classList.add("active"),t=t.parentNode}(e[a])},{rootMargin:o+"px 0px -100% 0px",threshold:0});t.forEach(e=>{e&&r.observe(e)})}(document.documentElement.scrollHeight)}document.addEventListener("DOMContentLoaded",listennSidebarTOC),document.addEventListener("pjax:success",listennSidebarTOC)</script><script src="/js/iconfont-inkss.js"></script><script src="/js/iconfont-emoji.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>var pjax;document.addEventListener("DOMContentLoaded",(function(){pjax=new Pjax({elements:'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',selectors:["title","pjax","#pjax-container","#pjax-header-nav-list"],cacheBust:!1,timeout:5e3})})),document.addEventListener("pjax:send",(function(e){try{var n=window.location.pathname,t=e.triggerElement.href,a=[""];""!=a[0]&&a.forEach(e=>{-1==n.indexOf(e)&&-1==t.indexOf(e)||(window.location.href=t)})}catch(e){}volantis.$.switcher.removeClass("active"),volantis.$.header.removeClass("z_search-open"),volantis.$.wrapper.removeClass("sub"),volantis.$.topBtn.unbind("click"),$(".menu a","#l_header,#l_cover").unbind("click"),$(window).unbind("resize"),$(window).unbind("scroll"),$(document).unbind("scroll"),$(document).unbind("click"),$("body").unbind("click"),volantis.pjax.method.send.start()})),document.addEventListener("pjax:complete",(function(){$("script[data-pjax], .pjax-reload script").each((function(){$(this).parent().append($(this).remove())})),volantis.pjax.method.complete.start()})),document.addEventListener("pjax:error",(function(e){volantis.pjax.method.error.start(),window.location.href=e.triggerElement.href}))</script></div><div id="BKG"></div><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>