<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>博客优化及主题配置</title>
      <link href="HexoOptimize/"/>
      <url>HexoOptimize/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这篇文章主要介绍Hexo的基本使用以及一些优化配置，如果还没有搭建起博客并托管至Github Pages请点<a href="">这里</a><br>本文基于volantis主题，部分配置可能不同请查看相应主题的官方文档自行配置。</p><h2 id="1-基础配置"><a href="#1-基础配置" class="headerlink" title="1.基础配置"></a>1.基础配置</h2><pre><code>1. 网站信息    &#123;% codeblock _config.yml lang:yaml %&#125;            title:              # 网站标题            subtitle: ''        # 副标题            description: ''     # 描述信息            keywords:           # 关键字            author:             # 作者            language: zh        # 语言        &#123;% endcodeblock %&#125;2. 网址信息    &#123;% codeblock _config.yml lang:yaml %&#125;            url                 # 网址根路径            permalink: :title/  # 文章生成的永久链接格式        &#123;% endcodeblock %&#125; </code></pre><h2 id="2-配置主题"><a href="#2-配置主题" class="headerlink" title="2.配置主题"></a>2.配置主题</h2><p><a href="https://volantis.js.org/v5/getting-started/">volantis官方文档</a></p><ol><li>修改配置文件<br>在hexo的配置文件_config.yml中找到theme属性并修改。<figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">volantis</span></span><br></pre></td></tr></table></figure></li><li>下载主题<br>在终端中输入：<code>npm i hexo-theme-volantis</code></li><li>创建主题配置文件<br>在根目录下创建文件<code>_config.volantis.yml</code>,volantis主题相关配置写在该文件内。<div class="note "><p>PS: 基于hexo5的新特性</p></div>主题有关的样式配置请查看主题的官方文档进行配置，本文只对部分内容进行介绍。volantis官方文档<a href="https://volantis.js.org/v5/theme-settings/">传送门</a><h2 id="3-页面配置"><a href="#3-页面配置" class="headerlink" title="3.页面配置"></a>3.页面配置</h2><h3 id="3-1归档页面"><a href="#3-1归档页面" class="headerlink" title="3.1归档页面"></a>3.1归档页面</h3>hexo默认会根据<code>/source/_posts</code>下的文件生成归档页面，默认存放在<code>archives</code>目录，可以在<code>_config.yml</code>文件中修改<h3 id="3-2关于页面"><a href="#3-2关于页面" class="headerlink" title="3.2关于页面"></a>3.2关于页面</h3>创建一个介绍的独立页面，创建<code>/source/about/index.md</code>或者直接使用命令<code>hexo hexo new about</code>。<figure class="highlight md"><figcaption><span>source/about/index.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: docs            # 页面布局</span><br><span class="line">seo<span class="emphasis">_title: 关于</span></span><br><span class="line"><span class="emphasis">bottom_</span>meta: false</span><br><span class="line">sidebar: []             # 侧边栏要显示的部件</span><br><span class="line">valine:</span><br><span class="line">  placeholder:        # 评论系统的占位字符</span><br><span class="line">---</span><br><span class="line">  下面写关于自己的内容</span><br></pre></td></tr></table></figure><h3 id="3-3分类页面"><a href="#3-3分类页面" class="headerlink" title="3.3分类页面"></a>3.3分类页面</h3>创建一个文章分类的独立页面，会读取文章的<a href="https://volantis.js.org/v5/page-settings/#front-matter">front-matter</a>中的category的内容自动生成分类页面。创建<code>/source/categories/index.md</code>或者直接使用命令<code>npx hexo new categories</code><figure class="highlight md"><figcaption><span>source/categories/index.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: category</span><br><span class="line">index: true</span><br><span class="line">title: 所有分类</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="3-4标签页面"><a href="#3-4标签页面" class="headerlink" title="3.4标签页面"></a>3.4标签页面</h3>创建一个存放所有文章标签的独立页面，会读取会读取文章的<a href="https://volantis.js.org/v5/page-settings/#front-matter">front-matter</a>中的tag的内容自动生成标签页面。创建<code>/source/tags/index.md</code>或者直接使用命令<code>npx hexo new tags</code><figure class="highlight md"><figcaption><span>source/tags/index.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: tag</span><br><span class="line">index: true</span><br><span class="line">title: 所有标签</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="3-5友链页面"><a href="#3-5友链页面" class="headerlink" title="3.5友链页面"></a>3.5友链页面</h3><h4 id="3-5-1创建页面"><a href="#3-5-1创建页面" class="headerlink" title="3.5.1创建页面"></a>3.5.1创建页面</h4>创建一个存放所有推荐网站链接的独立页面,创建<code>/source/friends/index.md</code>或者直接使用命令<code>npx hexo new friends</code><figure class="highlight md"><figcaption><span>source/friends/index.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: friends # 必须</span><br><span class="line">title: 我的朋友们 # 可选，这是友链页的标题</span><br><span class="line">---</span><br><span class="line">这里写友链上方的内容。</span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line">这里可以写友链页面下方的文字备注，例如自己的友链规范、示例等。</span><br></pre></td></tr></table></figure><h4 id="3-5-2选择布局方案"><a href="#3-5-2选择布局方案" class="headerlink" title="3.5.2选择布局方案"></a>3.5.2选择布局方案</h4>在主题配置文件中配置<code>pages.friends.layout_scheme</code>属性<figure class="highlight yaml"><figcaption><span>_config.volantis.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pages:</span></span><br><span class="line">    <span class="comment"># 友链页面配置</span></span><br><span class="line">    <span class="attr">friends:</span></span><br><span class="line">    <span class="attr">layout_scheme:</span> <span class="string">traditional</span> <span class="comment"># simple: 简单布局, traditional: 传统布局,  sites: 网站卡片布局</span></span><br></pre></td></tr></table></figure><h4 id="3-5-3设置数据源"><a href="#3-5-3设置数据源" class="headerlink" title="3.5.3设置数据源"></a>3.5.3设置数据源</h4><div class="tabs" id="blog"><ul class="nav-tabs"><li class="tab active"><a class="#blog-1">静态数据源</a></li><li class="tab"><a class="#blog-2">动态数据源</a></li></ul><div class="tab-content"><div class="tab-pane active" id="blog-1"><p>新建文件<code>/source/_data/friends.yml</code>，内容格式如下：</p><figure class="highlight yaml"><figcaption><span>/source/_data/friends.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">group:</span> <span class="comment"># 分组标题</span></span><br><span class="line">  <span class="attr">description:</span>  <span class="comment"># 分组描述</span></span><br><span class="line">  <span class="attr">items:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">title:</span> <span class="comment"># 名称</span></span><br><span class="line">     <span class="attr">avatar:</span> <span class="comment"># 头像</span></span><br><span class="line">     <span class="attr">url:</span> <span class="comment"># 链接</span></span><br><span class="line">     <span class="attr">screenshot:</span> <span class="comment"># 截图</span></span><br><span class="line">     <span class="attr">keywords:</span> <span class="comment"># 关键词</span></span><br><span class="line">     <span class="attr">description:</span> <span class="comment"># 描述</span></span><br><span class="line">   <span class="bullet">-</span> <span class="attr">title:</span> <span class="comment"># 名称</span></span><br><span class="line">     <span class="attr">avatar:</span> <span class="comment"># 头像</span></span><br><span class="line">     <span class="attr">url:</span> <span class="comment"># 链接</span></span><br><span class="line">     <span class="attr">screenshot:</span> <span class="comment"># 截图</span></span><br><span class="line">     <span class="attr">keywords:</span> <span class="comment"># 关键词</span></span><br><span class="line">     <span class="attr">description:</span> <span class="comment"># 描述</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="blog-2"><p>后期补充</p></div></div></div><h3 id="3-6-404页面"><a href="#3-6-404页面" class="headerlink" title="3.6 404页面"></a>3.6 404页面</h3>创建一个在路径出错时显示的独立页面，创建<code>/source/404.md</code><figure class="highlight md"><figcaption><span>source/404.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">cover: true</span><br><span class="line">robots: noindex,nofollow</span><br><span class="line">sitemap: false</span><br><span class="line">seo<span class="emphasis">_title: 404 Not Found</span></span><br><span class="line"><span class="emphasis">bottom_</span>meta: false</span><br><span class="line">sidebar: []</span><br><span class="line">valine:</span><br><span class="line">  path: /404.html</span><br><span class="line">  placeholder: 请留言告诉我您要访问哪个页面找不到了</span><br><span class="line">---</span><br><span class="line">  输出的内容</span><br></pre></td></tr></table></figure>可以自定义更多独立页面，满足更多个性化需求。在source目录下新建文件夹，并新建<code>/source/example/index.md</code>就可以自定义独立页面。<h2 id="4-常用的功能插件"><a href="#4-常用的功能插件" class="headerlink" title="4.常用的功能插件"></a>4.常用的功能插件</h2>本文介绍一些常用插件的安装及配置，详情请查看<a href="https://volantis.js.org/v5/theme-settings/#%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8F%92%E4%BB%B6">主题官网</a><h3 id="4-1字数和阅读时间统计"><a href="#4-1字数和阅读时间统计" class="headerlink" title="4.1字数和阅读时间统计"></a>4.1字数和阅读时间统计</h3>终端输入命令<code>npm install hexo-wordcount --save</code>安装插件，在主题配置文件中配置文章布局。<figure class="highlight yaml"><figcaption><span>_config.volantis.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">article:</span></span><br><span class="line">    <span class="attr">top_meta:</span> [<span class="string">···</span>,<span class="string">wordcount</span>] <span class="comment"># 文章头部显示的元信息</span></span><br><span class="line">    <span class="attr">meta_library:</span> <span class="comment"># 元信息库</span></span><br><span class="line">      <span class="string">···</span></span><br><span class="line">      <span class="attr">wordcount:</span></span><br><span class="line">        <span class="attr">icon_wordcount:</span> <span class="string">fas</span> <span class="string">fa-keyboard</span></span><br><span class="line">        <span class="attr">icon_duration:</span> <span class="string">fas</span> <span class="string">fa-hourglass-half</span></span><br></pre></td></tr></table></figure>在主题配置文件中开启字数统计插件<figure class="highlight yaml"><figcaption><span>_config.volantis.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">    <span class="string">···</span></span><br><span class="line">    <span class="string">wordcount</span></span><br><span class="line">        <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="4-2站内搜索功能"><a href="#4-2站内搜索功能" class="headerlink" title="4.2站内搜索功能"></a>4.2站内搜索功能</h3>默认配置为 Hexo 搜索，但是需要安装插件才能使用：<code>npm i -S hexo-generator-search hexo-generator-json-content</code><figure class="highlight yaml"><figcaption><span>_config.volantis.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">service:</span> <span class="string">hexo</span>  <span class="comment"># hexo, google, algolia, azure, baidu</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@2.6.4/js/search.js</span></span><br></pre></td></tr></table></figure><h3 id="4-3相关文章功能"><a href="#4-3相关文章功能" class="headerlink" title="4.3相关文章功能"></a>4.3相关文章功能</h3>安装插件：<code>npm i -S hexo-related-popular-posts</code>，如果您使用了头图，可以在站点配置文件中添加以下设置来让相关文章显示正确的文章头图：<figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">popularPosts:</span></span><br><span class="line">  <span class="attr">eyeCatchImageAttributeName:</span> <span class="string">headimg</span></span><br></pre></td></tr></table></figure>更多自定义配置请查看官方文档<div class="tag link"><a class="link-card" title="hexo-related-popular-posts" href="https://github.com/tea3/hexo-related-popular-posts"><div class="left"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="/></div><div class="right"><p class="text">hexo-related-popular-posts</p><p class="url">https://github.com/tea3/hexo-related-popular-posts</p></div></a></div><p class='p center logo large red'>未完待续</p><h2 id="5-统计分析网站访问量"><a href="#5-统计分析网站访问量" class="headerlink" title="5.统计分析网站访问量"></a>5.统计分析网站访问量</h2><h3 id="5-1-百度统计"><a href="#5-1-百度统计" class="headerlink" title="5.1 百度统计"></a>5.1 百度统计</h3>百度统计主要用于分析网站数据：流量、访客量等。</li><li>注册百度统计账号，官网链接：<a href="https://tongji.baidu.com/">https://tongji.baidu.com</a></li><li>点击<code>管理&gt;新增网站</code>，填写数据后点击确定</li><li>复制代码并在配置文件中引入代码<figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">import:</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script&gt;var</span> <span class="string">_hmt</span> <span class="string">=</span> <span class="string">_hmt</span> <span class="string">||</span> []<span class="string">;(function()</span> &#123;<span class="string">var</span> <span class="string">hm</span> <span class="string">=</span> <span class="string">document.createElement(&quot;script&quot;);hm.src</span> <span class="string">=</span> <span class="string">&quot;https://hm.baidu.com/hm.js?xxxxxxxxxxxxxx&quot;</span><span class="string">;var</span> <span class="string">s</span> <span class="string">=</span> <span class="string">document.getElementsByTagName(&quot;script&quot;)</span>[<span class="number">0</span>]<span class="string">;</span> <span class="string">s.parentNode.insertBefore(hm</span>, <span class="string">s);</span>&#125;<span class="string">)();&lt;/script&gt;</span> <span class="comment">#从图二复制的代码</span></span><br></pre></td></tr></table></figure>可以在管理页面查看代码是否安装正确，然后就可以查看网页访问的报告了。<h3 id="5-2-google统计"><a href="#5-2-google统计" class="headerlink" title="5.2 google统计"></a>5.2 google统计</h3>google统计和百度统计类似，主要满足国外流量的统计。注册google统计账号，官网链接：<a href="https://analytics.google.com/%E3%80%82%E5%A4%8D%E5%88%B6%E7%9A%84%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A">https://analytics.google.com/。复制的代码如下：</a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span><br><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">&quot;https://www.googletagmanager.com/gtag/js?id=xxxxxxxx&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;</span><br><span class="line">  gtag(<span class="string">&#x27;js&#x27;</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">  gtag(<span class="string">&#x27;config&#x27;</span>, <span class="string">&#x27;xxxxxxx&#x27;</span>);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><div class="note "><p>可以将<code>&lt;script async src=https://www.googletagmanager.com/gtag/js?id=xxxxxxxx&gt;&lt;/script&gt;</code>src引入的文件下载放在本地，已加快速度。</p></div>将上面的代码在配置文件中引入即可<h2 id="6-提高博客访问速度"><a href="#6-提高博客访问速度" class="headerlink" title="6.提高博客访问速度"></a>6.提高博客访问速度</h2><h3 id="6-1hexo-offline-popup插件"><a href="#6-1hexo-offline-popup插件" class="headerlink" title="6.1hexo-offline-popup插件"></a>6.1hexo-offline-popup插件</h3>hexo-offline-popup 是一个 hexo 插件， 它可加速你的Hexo网站的加载速度，以及网站内容更新弹窗提示<br>在Hexo根目录打开Git-bash ，执行命令<code>npm i hexo-offline-popup --save</code><br>在博客根目录的_config.yml中添加如下配置<figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># offline config passed to sw-precache.</span></span><br><span class="line"><span class="attr">service_worker:</span></span><br><span class="line">  <span class="attr">maximumFileSizeToCacheInBytes:</span> <span class="number">5242880</span></span><br><span class="line">  <span class="attr">staticFileGlobs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">public/**/*.&#123;js,html,css,png,jpg,gif,svg,eot,ttf,woff,woff2&#125;</span></span><br><span class="line">  <span class="attr">stripPrefix:</span> <span class="string">public</span></span><br><span class="line">  <span class="attr">verbose:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>如果你有CDN资源，例：    - <a href="https://unpkg.com/artitalk">https://unpkg.com/artitalk</a>    - <a href="https://cdn.jsdelivr.net/npm/artitalk">https://cdn.jsdelivr.net/npm/artitalk</a><br>将此配置添加到根目录的_config.yml<figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">service_worker:</span></span><br><span class="line">  <span class="attr">runtimeCaching:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span>  <span class="comment"># 子路径（接受通配符）</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">unpkg.com</span>  <span class="comment"># 域名</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/npm/*</span>   <span class="comment"># 子路径（接受通配符）</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">cdn.jsdelivr.net</span>  <span class="comment"># 域名</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> volantis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Github Pages 和Hexo搭建自己的独立博客</title>
      <link href="HexoBlog/"/>
      <url>HexoBlog/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><div class="note message blue"><p>首先感谢你阅读我的博客：<a href="https://guluo.icu/">OYLX’S BLOG</a></p></div><p>这是一篇有关如何使用<a href="https://hexo.io/zh-cn/">Hexo</a>搭建博客，并通过<a href="https://pages.github.com/">Github Pages</a>服务部署上线的详细教程。本人是软件工程专业本科生，目前大三下学期在企业顶岗实习，主要学习java后端技术以及部分前端知识，这是搭建好博客后写得第一篇博客。借这个机会记录一下搭建博客的整体流程，希望能够帮助你更快搭建好自己的独立博客。</p><h2 id="1-基本概述"><a href="#1-基本概述" class="headerlink" title="1.基本概述"></a>1.基本概述</h2><div class="note link green"><p><a href="https://pages.github.com/">Github Pages</a></p></div><p>Github Pages是github提供的静态网站托管服务，使用Github Pages可以为你提供一个免费的服务器以及一个绑定的域名，通过该域名可以直接访问托管的静态网页。</p><div class="note link green"><p><a href="https://hexo.io/zh-cn/">Hexo</a></p></div><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/">Markdown</a>（或其他渲染引擎）解析文章，并根据指定的主题生成静态网页，在存储位置上可以有：<code>Github Page、OSS 对象存储、云主机</code>等多种选择。</p><h2 id="2-环境准备"><a href="#2-环境准备" class="headerlink" title="2.环境准备"></a>2.环境准备</h2><h3 id="2-1Node-js"><a href="#2-1Node-js" class="headerlink" title="2.1Node.js"></a>2.1Node.js</h3><p>NodeJs是Hexo的运行时环境，版本需不低于10.13，建议使用Node.js12.0及以上版本，可以通过在命令行中键入<code>node -v</code>命令查看当前系统Node版本。</p><details green><summary> 安装Node.js </summary>              <div class='content'>              <p>点击前往<a href="https://nodejs.org/zh-cn/download/">node下载地址</a></p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A02/02.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/TRHX/ImageHosting/ITRHX-PIC/A02/02.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="图1 node官方下载页面"/></div><span class="image-caption">图1 node官方下载页面</span></div><p>根据你的系统选择不同的安装方式</p><div class="tabs" id="tab-id"><ul class="nav-tabs"><li class="tab active"><a class="#tab-id-1">windows</a></li><li class="tab"><a class="#tab-id-2">linux</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-id-1"><p>按需下载相应版本，如果选择.msi(安装程序)则默认安装即可。如果选择.zip压缩包，解压后还需要<a href="https://m.html.cn/qa/node-js/11835.html">配置系统变量</a>。</p></div><div class="tab-pane" id="tab-id-2"><details cyan open><summary> 官网下载.tar.gz二进制包 </summary>              <div class='content'>              <p>按需下载相应版本，打开命令行输入下列命令可以安装node并查看版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar xzvf  node-v10.9.0-linux-x64.tar.xz// 解压</span><br><span class="line"><span class="built_in">cd</span> node-v10.9.0-linux-x64/// 进入解压目录</span><br><span class="line">./bin/node -v// 查看版本</span><br><span class="line">sudo mv node-v10.9.0-linus-x64 /usr/<span class="built_in">local</span>/nodejs// 移动到/usr/<span class="built_in">local</span></span><br></pre></td></tr></table></figure><p>解压文件的 bin 目录底下包含了 node、npm 等命令，我们可以使用 ln 命令来设置软连接使得可以在任何路径下执行node和npm命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/<span class="built_in">local</span>/nodejs/bin/npm   /usr/<span class="built_in">local</span>/bin/ </span><br><span class="line">ln -s /usr/<span class="built_in">local</span>/nodejs/bin/node   /usr/<span class="built_in">local</span>/bin/</span><br></pre></td></tr></table></figure>              </div>            </details><details cyan><summary> Ubuntu apt-get命令安装 </summary>              <div class='content'>              <p>打开命令行执行下列命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs// 安装nodejs</span><br><span class="line">sudo apt-get install npm// 安装npm</span><br><span class="line">node -v// 查看node版本</span><br></pre></td></tr></table></figure>              </div>            </details></div></div></div>              </div>            </details><details cyan open><summary> 升级nodejs版本 </summary>              <div class='content'>              <p>打开命令行工具执行下列命令可以升级nodejs和npm的版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm -v// 查看npm版本</span><br><span class="line">sudo npm install -g npm@7.7.6// 升级npm版本</span><br><span class="line">sudo npm install -g n// 安装n模块</span><br><span class="line">n latest// 安装最新版noden stable//安装最新稳定版</span><br></pre></td></tr></table></figure><div class="note gray"><p>如果是使用从官网下载的二进制包安装的node也可以直接删除目录，重新在官网下载新版本。 如果是windows安装程序安装可以直接从卸载程序卸载并重新安装</p></div><details gray><summary> ubutun下使用apt升级nodejs版本 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove nodejs// 卸载nodejs</span><br><span class="line">sudo apt-get remove npm// 卸载npm</span><br><span class="line">然后重新从官网下载.tar.gz安装</span><br><span class="line"><span class="comment"># 自动升级版本（不一定最新）</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure>              </div>            </details>              </div>            </details><h3 id="2-2Git"><a href="#2-2Git" class="headerlink" title="2.2Git"></a>2.2Git</h3><p>Git 是一个开源的分布式版本控制系统，用于将自己本地的项目和github仓库绑定，从而可以通过命令一键上传自己更新的文件，通过<code>git --version</code>命令查看git版本确定是否安装git。（windows用户可以点击鼠标右键，如果有<code>Git Bash Here</code>则已安装Bash）</p><ul><li>Windows：下载并安装 <a href="https://git-scm.com/download/win">git</a>.</li><li>Mac：使用 <a href="http://mxcl.github.com/homebrew/">Homebrew</a>, <a href="http://www.macports.org/">MacPorts</a> 或者下载 <a href="http://sourceforge.net/projects/git-osx-installer/">安装程序</a>。</li><li>Linux (Ubuntu, Debian)：<code>sudo apt-get install git-core</code></li><li>Linux (Fedora, Red Hat, CentOS)：<code>sudo yum install git-core</code></li></ul><h2 id="3-Hexo基本使用"><a href="#3-Hexo基本使用" class="headerlink" title="3.Hexo基本使用"></a>3.Hexo基本使用</h2><h3 id="3-1安装hexo"><a href="#3-1安装hexo" class="headerlink" title="3.1安装hexo"></a>3.1安装hexo</h3><p>新建一个文件夹放置博客相关文件，然后在这个文件夹下打开命令行工具，windows用户可以在该文件夹下右键鼠标，点击<span class='p red'>Git Bash Here</span>，输入以下 npm 命令即可安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli// 全局安装hexo</span><br><span class="line"><span class="comment"># 如果熟悉npm的用户可以仅在局部安装hexo  // npm install hexo</span></span><br></pre></td></tr></table></figure><div class="note "><p>npm默认从外网下载数据，国内可能速度较慢可以使用如下方式提高速度</p></div><details cyan><summary> 加快npm install速度 </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更换下载的镜像源</span></span><br><span class="line">npm --registry https://registry.npm.taobao.org install 模块 //临时更换，每次执行install都需要指定镜像源</span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org //持久更换镜像源</span><br><span class="line"><span class="comment"># 配置后可通过下面方式来验证是否成功</span></span><br><span class="line"><span class="comment"># npm config get registry，使用npm config set registry https://registry.npmjs.org可以恢复原来的设置</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用cnpm下载，所有使用npm执行的install命令用cnpm替换，例如cnpm installl hexo</span></span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>              </div>            </details><p>安装完成后如果是全局安装则可以在任何位置使用<code>npx hexo &lt;command&gt;</code>，局部安装则只能在安装目录下使用<code>npx hexo &lt;command&gt;</code>。如果希望可以直接使用<code>hexo &lt;command&gt;</code>则需要将Hexo所在目录下的 <code>node_modules</code> 添加到环境变量之中。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># linux系统下可以在Hexo安装目录使用如下命令（局部安装，全局安装不用配置）</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;PATH=&quot;$PATH:./node_modules/.bin&quot;&#x27;</span> &gt;&gt; ~/.profile</span><br><span class="line"><span class="comment"># windows系统会将Hexo默认安装在C:\Users\你的电脑名称\AppData\Roaming\npm\node_modules\ </span></span><br><span class="line">只需要将C:\Users\你的电脑名称\AppData\Roaming\npm\node_modules\.bin配置到系统变量path即可</span><br></pre></td></tr></table></figure><h3 id="3-2Hexo的一些常用命令"><a href="#3-2Hexo的一些常用命令" class="headerlink" title="3.2Hexo的一些常用命令"></a>3.2Hexo的一些常用命令</h3><p>这部分内容以 Hexo 官方文档为准，;这里记录一些最常用的。传送门：<a href="https://hexo.io/zh-cn/docs/commands" title="hexo 命令">命令 | Hexo</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npx hexo init           <span class="comment"># 初始化博客</span></span><br><span class="line">npx hexo server         <span class="comment"># 启动本地的hexo服务</span></span><br><span class="line">npx hexo clean          <span class="comment"># 清空本地缓存即public目录</span></span><br><span class="line">npx hexo deploy         <span class="comment"># 使用hexo-deployer-xxx插件部署博客</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-3初始化博客"><a href="#3-3初始化博客" class="headerlink" title="3.3初始化博客"></a>3.3初始化博客</h3><p>执行<code>npx hexo init blog</code>命令可以在当前路径下生成一个blog的文件夹安装初始化的hexo博客，<code>ubutun</code>系统上出现以下效果表示初始化成功。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/init.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/init.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="图2 初始化命令执行结果"/></div><span class="image-caption">图2 初始化命令执行结果</span></div><div class="note gray"><p>上述命令需要从github（外网）上获取数据（<code>git clone</code>），可能会由于网络问题导致初始化失败，可以手动进行初始化</p></div><details cyan><summary> 手动初始化hexo </summary>              <div class='content'>              <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitee.com/oylxgl/hexo-starter.git// 从我的站点克隆一份博客</span><br><span class="line"><span class="built_in">cd</span> hexo-starter// 进入克隆出来的文件夹</span><br><span class="line">npm install --save// 安装依赖</span><br><span class="line">npx hexo server // 启动服务</span><br></pre></td></tr></table></figure>              </div>            </details><p>如果执行<code>npx hexo init</code>则会在当前目录下生成初始化的博客。Hexo 安装完成后，将会在指定文件夹中新建所需要的文件，Hexo 文件夹下的目录如下：</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/initfolder.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/initfolder.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="/></div></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml            # 网站配置文件</span><br><span class="line">├── .gitignore             # Git 忽略文件</span><br><span class="line">├── node_modules           # 插件安装目录</span><br><span class="line">├── package.json           # 描述插件</span><br><span class="line">├── package-lock.json      # 描述插件 更详细</span><br><span class="line">├── scaffolds              # 模板</span><br><span class="line">├── source                 # 资源</span><br><span class="line">└── themes                 # 主题</span><br></pre></td></tr></table></figure><p>执行以下命令，执行完即可使用浏览器打开 <a href="http://localhost:4000/">http://localhost:4000/</a> 查看效果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hexo server&#x2F;&#x2F;启动服务</span><br></pre></td></tr></table></figure><div class="note blue"><p>显示以下信息说明操作成功</p></div><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><p>浏览器打开 <a href="http://localhost:4000/">http://localhost:4000/</a> 查看效果：</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/initLocal.jpg,alt = 图4 初始化的博客主页" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/initLocal.jpg,alt = 图4 初始化的博客主页" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="/></div></div><h3 id="3-4网站配置"><a href="#3-4网站配置" class="headerlink" title="3.4网站配置"></a>3.4网站配置</h3><p>网站 配置文件：<code>_config.yml</code> ，官方配置文档传送门：<a href="https://hexo.io/zh-cn/docs/configuration">配置 | Hexo</a></p><p>一般来说在该配置文件中只需要修改一些网站基本属性，下面记录一下指定主题和设置发布（部署）对象。</p><h4 id="3-4-1修改主题类型"><a href="#3-4-1修改主题类型" class="headerlink" title="3.4.1修改主题类型"></a>3.4.1修改主题类型</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">主题名</span></span><br></pre></td></tr></table></figure><h4 id="3-4-2配置部署信息"><a href="#3-4-2配置部署信息" class="headerlink" title="3.4.2配置部署信息"></a>3.4.2配置部署信息</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="comment">## 需要使用hexo-deployer-xxx插件，可以部署到多个地址</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span>   <span class="comment">#使用的部署工具</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@github.com:xxxx/xxxxx</span>   <span class="comment">#部署到的仓库地址</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span>    <span class="comment">#部署到的分支</span></span><br></pre></td></tr></table></figure><h4 id="3-4-3忽略解析指定的文件"><a href="#3-4-3忽略解析指定的文件" class="headerlink" title="3.4.3忽略解析指定的文件"></a>3.4.3忽略解析指定的文件</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="comment"># 忽略解析指定文件：比如 Github 仓库的 ReadMe.md 文件。</span></span><br><span class="line"><span class="attr">skip_render:</span> <span class="string">README.md</span></span><br></pre></td></tr></table></figure><div class="note "><p>PS：一些插件的属性设置也是在这个文件中配置的。</p></div><h3 id="3-5编写博客"><a href="#3-5编写博客" class="headerlink" title="3.5编写博客"></a>3.5编写博客</h3><p>hexo会自动解析source文件夹下的文件并生成静态网站，可以直接将写好的md文件拖入到<code>/source/_posts</code>下就可以生成一篇新文章。<br>你可以执行下列命令来创建一篇新文章或者新的页面。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">npx</span> <span class="string">hexo</span> <span class="string">new</span> [<span class="string">layout</span>] <span class="string">&lt;title&gt;</span></span><br></pre></td></tr></table></figure><p>您可以在命令中指定文章的布局（layout），默认为 post(一篇新文章)，可以通过修改 _config.yml 中的 default_layout 参数来指定默认布局。</p><h2 id="4-部署到Github-Pages"><a href="#4-部署到Github-Pages" class="headerlink" title="4.部署到Github Pages"></a>4.部署到Github Pages</h2><p>一、注册Github账号：<a href="https://github.com/">点击此处</a>访问 Github 官网，点击 Sign Up 注册账户</p><p>二、创建项目代码库：点击 New repository 开始创建，步骤及注意事项见图。</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/repo.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/repo.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="图5 创建github仓库"/></div><span class="image-caption">图5 创建github仓库</span></div><p>如果你希望你的博客能通过 <code>&lt;你的 GitHub 用户名&gt;.github.io</code> 域名访问，你的 repository 应该直接命名为 <code>&lt;你的 GitHub 用户名&gt;.github.io</code>否则需要通过 <code>&lt;你的 GitHub 用户名&gt;.github.io/&lt;仓库名&gt;</code> 访问。</p><p>三、将本地的 Hexo 博客文件夹推送到 repository 中。默认情况下不应该 <code>public</code> 目录将不会被推送到 repository 中，你应该检查 <code>.gitignore</code> 文件中是否包含 <code>public</code> 一行，如果没有请加上。</p><blockquote><p>注意<code>.gitignore</code>文件为隐藏文件，建议使用vscode打开<code>npx hexo init </code>生成的文件夹编辑</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/repo1.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/repo1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="图6 生成的仓库"/></div><span class="image-caption">图6 生成的仓库</span></div><p>在本地的博客文件夹下面打开命令行，依次执行以下命令即可完成推送：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">git init    // 初始化版本库</span><br><span class="line"></span><br><span class="line">git add .   // 添加文件到版本库（只是添加到缓存区），.代表添加文件夹下所有文件 </span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span> // 把添加的文件提交到版本库，并填写提交备注</span><br><span class="line"></span><br><span class="line">git remote add origin 上图获取远程仓库地址  // 把本地库与远程库关联</span><br><span class="line"><span class="comment"># 如果提示error: 远程 origin 已经存在，git remote rm origin</span></span><br><span class="line"></span><br><span class="line">git pull origin main --allow-unrelated-histories </span><br><span class="line"></span><br><span class="line">git push -u origin main    // 第一次推送时</span><br><span class="line"></span><br><span class="line"><span class="comment"># git push origin main  // 第一次推送后，直接使用该命令即可推送修改</span></span><br></pre></td></tr></table></figure><p>四、在github仓库页面点击setting，开启pages服务</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/pages.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/pages.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="图6设置pages服务"/></div><span class="image-caption">图6设置pages服务</span></div><p>五、使用<code>hexo-deployer-git</code>一键部署</p><ol><li><p>安装<code>hexo-deployer-git</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li><p>编辑本地Hexo博客文件夹下的<code>_config.yml</code>，找到display属性如下修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span> </span><br><span class="line">    <span class="attr">github:</span> <span class="string">github仓库的地址</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span> <span class="comment"># 希望部署到的分支，即上图中选择的仓库托管分支</span></span><br></pre></td></tr></table></figure></li><li><p>执行命令<code>npx hexo deploy --generate</code>即可一键部署服务</p></li></ol><p>然后可以在浏览器中访问上图中<code>Your site is published at</code>后面的域名即可看到你的独立博客。上述只会把生成的静态页面保存到github仓库中，如果你希望将源文件也由github存储，并且每次只需要将修改的源代码推送就可以自动部署，请添加travis服务。</p><details cyan><summary> 添加travis服务 </summary>              <div class='content'>              <p>这里我们将会使用 <a href="https://travis-ci.com/">Travis CI</a> 将 Hexo 博客部署到 GitHub Pages 上。Travis CI 对于开源 repository 是免费的，但是这意味着你希望分享你的博客配置。</p><p>四、添加Travis CI服务</p><p><strong>Travis：</strong></p><ul><li>Travis CI 提供的是持续集成服务。它绑定 GitHub 上的项目，只要有新代码更新，它就会自动抓取。然后，提供一个运行环境，执行测试，完成构建，部署到服务器</li><li>持续集成指的是只要代码有变更，就自动运行构建和测试，反馈运行结果。确保符合预期之后，再将新代码集成到主干</li><li>持续集成的好处在于，每次代码的小幅变更，就能看到运行结果，从而不断累计小的变更，而不是在开发周期结束时，一次合并很多代码</li><li>Travis CI 只支持 GitHub，所以必须要有一个 Git 账号</li><li>该账号下面有一个项目，里面有可运行的代码，还包括构建或测试脚本</li><li>需要激活一个仓库，Travis 会监听这个仓库的所有变化</li></ul><p>第一步，开启Travis监控仓库变更，即本地推送源码</p><p>打开 Travis 官网<a href="https://www.travis-ci.org/%EF%BC%8C%E4%BD%BF%E7%94%A8github%E8%B4%A6%E5%8F%B7%E7%99%BB%E9%99%86%E3%80%82%E5%9C%A8%E5%B7%A6%E4%BE%A7%E5%AF%BC%E8%88%AA%E6%A0%8F%E6%B7%BB%E5%8A%A0%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8Travis">https://www.travis-ci.org/，使用github账号登陆。在左侧导航栏添加需要使用Travis</a> CI服务的仓库。</p><p><img src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/travis.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/travis.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>添加成功后可以在左侧查看添加的仓库，并前往github配置travis权限。</p><p><img src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/travs1.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/travs1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>你应该会被重定向到 Travis CI 的页面。如果没有，请 <a href="https://travis-ci.com/">手动前往</a>。</p><p>在浏览器新建一个标签页，前往 GitHub <a href="https://github.com/settings/tokens">新建 Personal Access Token</a>，只勾选 <code>repo</code> 的权限并生成一个新的 Token。Token 生成后请复制并保存好。<div class="note red"><p>生成token后关闭页面则无法在查看，注意保存好token</p></div></p><p><img src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/token.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/token.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>回到 Travis CI，在左侧导航栏点击仓库后在右侧选中<code>More options</code>然后打开settings，在 <strong>Environment Variables</strong> 下新建一个环境变量，<strong>Name</strong> 为 <code>GH_TOKEN</code>，<strong>Value</strong> 为刚才你在 GitHub 生成的 Token。确保 <strong>DISPLAY VALUE IN BUILD LOG</strong> 保持 <strong>不被勾选</strong> 避免你的 Token 泄漏。点击 <strong>Add</strong> 保存。</p><p><img src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/token1.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/token1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>在本地 博客文件夹中新建一个 <code>.travis.yml</code> 文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sudo:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attr">node_js:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="number">14</span> <span class="comment"># use nodejs v10 LTS</span></span><br><span class="line"><span class="attr">cache:</span> <span class="string">npm</span></span><br><span class="line"><span class="attr">branches:</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">main</span> <span class="comment"># build main branch only</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">generate</span> <span class="comment"># generate static files</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">provider:</span> <span class="string">pages</span></span><br><span class="line">  <span class="attr">skip-cleanup:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">github-token:</span> <span class="string">$GH_TOKEN</span></span><br><span class="line">  <span class="attr">keep-history:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">on:</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line">  <span class="attr">local-dir:</span> <span class="string">public</span></span><br></pre></td></tr></table></figure><p>将 <code>.travis.yml</code> 推送到 repository 中。Travis CI 应该会自动开始运行，并将生成的文件推送到同一 repository 下的 <code>gh-pages</code> 分支下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;开启travis CI服务&#x27;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure><p>等待一段时间应该可以在github仓库下看到多出了一个命名为<code>gh-pages</code>的分支</p><p><img src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/ghpages.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/ghpages.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>第二步修改本地Hexo博客文件夹下的<code>_config.yml</code>文件的deploy属性：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span> </span><br><span class="line">    <span class="attr">github:</span> <span class="string">https://github.com/oylx-maker/oylx-maker.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">gh-pages</span>    <span class="comment">#使用一键部署到travis的分支</span></span><br></pre></td></tr></table></figure><p>第三步修改Github pages监听的分支为<code>gh-pages</code>，在github仓库中点击settings找到Github Pages修改。</p><p><img src="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/pages1.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/oylx-maker/CDN@0.2/hexo/pages1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p>第四步修改本地文件后推送到main分支，等待一段时间后访问即可看到更改后的效果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;注释信息&#x27;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure>              </div>            </details><p>至此博客搭建以及基本使用已经全部介绍完毕，但还需要进行一些配置才能更好的使用博客，请移步<a href="./">hexo优化和个性化配置</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
